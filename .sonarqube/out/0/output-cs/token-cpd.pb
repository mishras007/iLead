√
MF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\App_Start\BundleConfig.cs
	namespace 	
iLeadTheWayProject
 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
} 	
} 
} Ç
MF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\App_Start\FilterConfig.cs
	namespace 	
iLeadTheWayProject
 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} ö
LF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\App_Start\RouteConfig.cs
	namespace 	
iLeadTheWayProject
 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str !
,! "
url 
: 
$str 
, 
defaults 
: 
new 
{ 

controller (
=) *
$str+ 1
,1 2
action3 9
=: ;
$str< H
}I J
)J K
;K L
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> D
,D E
idF H
=I J
UrlParameterK W
.W X
OptionalX `
}a b
) 
; 
} 	
} 
} û	
XF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Areas\Admin\AdminAreaRegistration.cs
	namespace 	
iLeadTheWayProject
 
. 
Areas "
." #
Admin# (
{ 
public 

class !
AdminAreaRegistration &
:' (
AreaRegistration) 9
{ 
public 
override 
string 
AreaName '
{ 	
get 
{		 
return

 
$str

 
;

 
} 
} 	
public 
override 
void 
RegisterArea )
() *#
AreaRegistrationContext* A
contextB I
)I J
{ 	
context 
. 
MapRoute 
( 
$str 
,  
$str 2
,2 3
new 
{ 
action 
= 
$str &
,& '
id( *
=+ ,
UrlParameter- 9
.9 :
Optional: B
}C D
) 
; 
} 	
} 
} °Œ
^F:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Areas\Admin\Controllers\AdminController.cs
	namespace 	
iLeadTheWayProject
 
. 
Areas "
." #
Admin# (
.( )
Controllers) 4
{ 
public 

class 
AdminController  
:! "

Controller# -
{ 
public 
readonly 

LeadTheWay "
ObjEdbContext# 0
=1 2
new3 6

LeadTheWay7 A
(A B
)B C
;C D
public 
static 
string 
ConsumerKey (
=) *
$str+ F
;F G
public 
static 
string 
ConsumerSecret +
=, -
$str. b
;b c
public 
static 
string 
AccessToken (
=) *
$str+ _
;_ `
public 
static 
string 
AccessTokenSecret .
=/ 0
$str1 `
;` a
public!! 
ActionResult!! 
Index!! !
(!!! "
)!!" #
{"" 	
try## 
{$$ 
if&& 
(&& 
Session&& 
[&& 
$str&& &
]&&& '
==&&( *
null&&+ /
)&&/ 0
return&&1 7
RedirectToAction&&8 H
(&&H I
$str&&I P
)&&P Q
;&&Q R
var'' 
activeTwittes'' !
=''" #
ObjEdbContext''$ 1
.''1 2
ObjTwitterDatas''2 A
.''A B
Count''B G
(''G H
x''H I
=>''J L
x''M N
.''N O
IsValid''O V
==''W Y
$str''Z d
)''d e
;''e f
ViewBag(( 
.(( 
activeTwittesCount(( *
=((+ ,
activeTwittes((- :
;((: ;
var)) 
activeVidevo))  
=))! "
ObjEdbContext))# 0
.))0 1
ObjTubeDatas))1 =
.))= >
Count))> C
())C D
x))D E
=>))F H
x))I J
.))J K
IsValid))K R
)))R S
;))S T
ViewBag** 
.** 
activeVideoCount** (
=**) *
activeVidevo**+ 7
;**7 8
var++ 
count++ 
=++ 
(++ 
ObjEdbContext++ *
.++* +
ObjRegistrations+++ ;
.++; <
Count++< A
(++A B
)++B C
)++C D
;++D E
ViewBag,, 
.,, 
	UserCount,, !
=,," #
count,,$ )
;,,) *
var-- 
tcount-- 
=-- 
(-- 
ObjEdbContext-- +
.--+ ,
ObjTwitterDatas--, ;
.--; <
Count--< A
(--A B
)--B C
)--C D
;--D E
ViewBag.. 
... 
TwitterCount.. $
=..% &
tcount..' -
;..- .
var// 
ucount// 
=// 
(// 
ObjEdbContext// +
.//+ ,
ObjTubeDatas//, 8
.//8 9
Count//9 >
(//> ?
)//? @
)//@ A
;//A B
ViewBag00 
.00 
YouTubeCount00 $
=00% &
ucount00' -
;00- .
return11 
View11 
(11 
ObjEdbContext11 )
.11) *
ObjRegistrations11* :
.11: ;
ToList11; A
(11A B
)11B C
)11C D
;11D E
}22 
catch33 
(33 
	Exception33 
e33 
)33 
{44 
ViewBag55 
.55 
ErrorMessage55 $
=55% &
$str55' ?
+55@ A
e55B C
;55C D
return66 
View66 
(66 
$str66 #
)66# $
;66$ %
}77 
}88 	
public;; 
ActionResult;; 
LogIn;; !
(;;! "
);;" #
{<< 	
return== 
View== 
(== 
)== 
;== 
}>> 	
[?? 	$
ValidateAntiForgeryToken??	 !
]??! "
[@@ 	
HttpPost@@	 
]@@ 
publicAA 
ActionResultAA 
LogInAA !
(AA! "
stringAA" (
userNameAA) 1
,AA1 2
stringAA3 9
passwordAA: B
)AAB C
{BB 	
tryCC 
{DD 
varEE 
query1EE 
=EE 
(EE 
fromEE "
sEE# $
inEE% '
ObjEdbContextEE( 5
.EE5 6
ObjRegistrationsEE6 F
whereEEG L
sEEM N
.EEN O
UserNameEEO W
==EEX Z
userNameEE[ c
selectEEd j
sEEk l
)EEl m
.EEm n
FirstOrDefaultEEn |
(EE| }
)EE} ~
;EE~ 
ifFF 
(FF 
query1FF 
!=FF 
nullFF "
)FF" #
{GG 
varHH 
hashCodeHH  
=HH! "
query1HH# )
.HH) *
VCodeHH* /
;HH/ 0
varJJ "
encodingPasswordStringJJ .
=JJ/ 0
HelperJJ1 7
.JJ7 8
EncodePasswordJJ8 F
(JJF G
passwordJJG O
,JJO P
hashCodeJJQ Y
)JJY Z
;JJZ [
varLL 
queryLL 
=LL 
(LL  !
fromLL! %
sLL& '
inLL( *
ObjEdbContextLL+ 8
.LL8 9
ObjRegistrationsLL9 I
whereLLJ O
sLLP Q
.LLQ R
UserNameLLR Z
==LL[ ]
userNameLL^ f
&&LLg i
sLLj k
.LLk l
PasswordLLl t
.LLt u
EqualsLLu {
(LL{ |#
encodingPasswordString	LL| í
)
LLí ì
select
LLî ö
s
LLõ ú
)
LLú ù
.
LLù û
FirstOrDefault
LLû ¨
(
LL¨ ≠
)
LL≠ Æ
;
LLÆ Ø
ifMM 
(MM 
queryMM 
!=MM  
nullMM! %
)MM% &
{NN 
SessionOO 
[OO  
$strOO  (
]OO( )
=OO* +
queryOO, 1
.OO1 2
AdminDetailIdOO2 ?
;OO? @
SessionPP 
[PP  
$strPP  *
]PP* +
=PP, -
queryPP. 3
.PP3 4
UserNamePP4 <
;PP< =
SessionQQ 
[QQ  
$strQQ  /
]QQ/ 0
=QQ1 2
queryQQ3 8
.QQ8 9
	FirstNameQQ9 B
;QQB C
SessionRR 
[RR  
$strRR  .
]RR. /
=RR0 1
queryRR2 7
.RR7 8
LastNameRR8 @
;RR@ A
SessionSS 
[SS  
$strSS  -
]SS- .
=SS/ 0
querySS1 6
.SS6 7
EmailIdSS7 >
;SS> ?
returnUU 
RedirectToActionUU /
(UU/ 0
$strUU0 @
,UU@ A
$strUUB I
)UUI J
;UUJ K
}VV 
ViewBagWW 
.WW 
ErrorMessageWW (
=WW) *
$strWW+ L
;WWL M
returnXX 
ViewXX 
(XX  
)XX  !
;XX! "
}YY 
}ZZ 
catch[[ 
([[ 
	Exception[[ 
e[[ 
)[[ 
{\\ 
ViewBag]] 
.]] 
ErrorMessage]] $
=]]% &
$str]]' G
+]]H I
e]]J K
;]]K L
return^^ 
View^^ 
(^^ 
)^^ 
;^^ 
}__ 
return`` 
View`` 
(`` 
)`` 
;`` 
}aa 	
publiccc 
ActionResultcc 
LogOutcc "
(cc" #
)cc# $
{dd 	
Sessionee 
.ee 
Clearee 
(ee 
)ee 
;ee 
Sessionff 
.ff 
Abandonff 
(ff 
)ff 
;ff 
Sessiongg 
.gg 
	RemoveAllgg 
(gg 
)gg 
;gg  
Responsehh 
.hh 
Cachehh 
.hh 

SetExpireshh %
(hh% &
DateTimehh& .
.hh. /
UtcNowhh/ 5
.hh5 6

AddMinuteshh6 @
(hh@ A
$numhhA B
)hhB C
)hhC D
;hhD E
Responseii 
.ii 
Cacheii 
.ii 
SetCacheabilityii *
(ii* +
HttpCacheabilityii+ ;
.ii; <
NoCacheii< C
)iiC D
;iiD E
Responsejj 
.jj 
Cachejj 
.jj 

SetNoStorejj %
(jj% &
)jj& '
;jj' (
returnkk 
RedirectToActionkk #
(kk# $
$strkk$ +
)kk+ ,
;kk, -
}ll 	
publicnn 
ActionResultnn 
NewRegistrationnn +
(nn+ ,
)nn, -
{oo 	
returnpp 
Viewpp 
(pp 
)pp 
;pp 
}qq 	
[rr 	$
ValidateAntiForgeryTokenrr	 !
]rr! "
[ss 	
HttpPostss	 
]ss 
publictt 
ActionResulttt 
NewRegistrationtt +
(tt+ ,
AdminDetailtt, 7
objUserRegistrationtt8 K
)ttK L
{uu 	
tryvv 
{ww 
varyy 
chkmailyy 
=yy 
(yy 
fromyy #
syy$ %
inyy& (
ObjEdbContextyy) 6
.yy6 7
ObjRegistrationsyy7 G
whereyyH M
syyN O
.yyO P
UserNameyyP X
==yyY [
objUserRegistrationyy\ o
.yyo p
UserNameyyp x
&&yyy {
syy| }
.yy} ~
EmailId	yy~ Ö
==
yyÜ à!
objUserRegistration
yyâ ú
.
yyú ù
EmailId
yyù §
select
yy• ´
s
yy¨ ≠
)
yy≠ Æ
.
yyÆ Ø
FirstOrDefault
yyØ Ω
(
yyΩ æ
)
yyæ ø
;
yyø ¿
ifzz 
(zz 
chkmailzz 
==zz 
nullzz #
)zz# $
{{{ 
var}} 
keyNew}} 
=}}  
GeneratePassword}}! 1
(}}1 2
$num}}2 4
)}}4 5
;}}5 6
var~~ 
password~~  
=~~! "
Helper~~# )
.~~) *
EncodePassword~~* 8
(~~8 9
objUserRegistration~~9 L
.~~L M
Password~~M U
,~~U V
keyNew~~W ]
)~~] ^
;~~^ _!
objUserRegistration
ÄÄ '
.
ÄÄ' (
Password
ÄÄ( 0
=
ÄÄ1 2
password
ÄÄ3 ;
;
ÄÄ; <!
objUserRegistration
ÅÅ '
.
ÅÅ' (

CreateDate
ÅÅ( 2
=
ÅÅ3 4
DateTime
ÅÅ5 =
.
ÅÅ= >
Now
ÅÅ> A
;
ÅÅA B!
objUserRegistration
ÇÇ '
.
ÇÇ' (

ModifyDate
ÇÇ( 2
=
ÇÇ3 4
DateTime
ÇÇ5 =
.
ÇÇ= >
Now
ÇÇ> A
;
ÇÇA B!
objUserRegistration
ÉÉ '
.
ÉÉ' (
VCode
ÉÉ( -
=
ÉÉ. /
keyNew
ÉÉ0 6
;
ÉÉ6 7
ObjEdbContext
ÑÑ !
.
ÑÑ! "
ObjRegistrations
ÑÑ" 2
.
ÑÑ2 3
AddOrUpdate
ÑÑ3 >
(
ÑÑ> ?!
objUserRegistration
ÑÑ? R
)
ÑÑR S
;
ÑÑS T
ObjEdbContext
ÖÖ !
.
ÖÖ! "
SaveChanges
ÖÖ" -
(
ÖÖ- .
)
ÖÖ. /
;
ÖÖ/ 0

ModelState
ÜÜ 
.
ÜÜ 
Clear
ÜÜ $
(
ÜÜ$ %
)
ÜÜ% &
;
ÜÜ& '
return
áá 
RedirectToAction
áá +
(
áá+ ,
$str
áá, 3
,
áá3 4
$str
áá5 <
)
áá< =
;
áá= >
}
àà 
ViewBag
ââ 
.
ââ 
ErrorMessage
ââ $
=
ââ% &
$str
ââ' F
;
ââF G
return
ää 
RedirectToAction
ää '
(
ää' (
$str
ää( /
)
ää/ 0
;
ää0 1
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
e
åå 
)
åå 
{
çç 
ViewBag
éé 
.
éé 
ErrorMessage
éé $
=
éé% &
$str
éé' ?
+
éé@ A
e
ééB C
;
ééC D
return
èè 
View
èè 
(
èè 
)
èè 
;
èè 
}
êê 
}
ëë 	
[
íí 	&
ValidateAntiForgeryToken
íí	 !
]
íí! "
[
ìì 	
HttpPost
ìì	 
]
ìì 
public
îî 
ActionResult
îî 
AddVideo
îî $
(
îî$ %
YouTubeData
îî% 0

objYoutube
îî1 ;
)
îî; <
{
ïï 	
try
ññ 
{
óó 
var
ôô 
id
ôô 
=
ôô 

objYoutube
ôô #
.
ôô# $
VideoId
ôô$ +
;
ôô+ ,
const
öö 
string
öö 
str
öö  
=
öö! "
$str
öö# C
;
ööC D

objYoutube
õõ 
.
õõ 
VideoId
õõ "
=
õõ# $
str
õõ% (
+
õõ) *
id
õõ+ -
;
õõ- .

objYoutube
úú 
.
úú 
Title
úú  
=
úú! "

objYoutube
úú# -
.
úú- .
Title
úú. 3
;
úú3 4

objYoutube
ùù 
.
ùù 
ImageUrl
ùù #
=
ùù$ %
$str
ùù& 9
+
ùù: ;
id
ùù< >
+
ùù? @
$str
ùùA Q
;
ùùQ R

objYoutube
ûû 
.
ûû 
IsValid
ûû "
=
ûû# $
false
ûû% *
;
ûû* +
ObjEdbContext
†† 
.
†† 
ObjTubeDatas
†† *
.
††* +
AddOrUpdate
††+ 6
(
††6 7

objYoutube
††7 A
)
††A B
;
††B C
ObjEdbContext
°° 
.
°° 
SaveChanges
°° )
(
°°) *
)
°°* +
;
°°+ ,

ModelState
¢¢ 
.
¢¢ 
Clear
¢¢  
(
¢¢  !
)
¢¢! "
;
¢¢" #
return
££ 
RedirectToAction
££ '
(
££' (
$str
££( 4
,
££4 5
$str
££6 =
)
££= >
;
££> ?
}
§§ 
catch
¶¶ 
(
¶¶ 
	Exception
¶¶ 
e
¶¶ 
)
¶¶ 
{
ßß 
ViewBag
®® 
.
®® 
ErrorMessage
®® $
=
®®% &
$str
®®' ?
+
®®@ A
e
®®B C
;
®®C D
return
©© 
View
©© 
(
©© 
$str
©© (
)
©©( )
;
©©) *
}
™™ 
}
´´ 	
public
≠≠ 
static
≠≠ 
string
≠≠ 
GeneratePassword
≠≠ -
(
≠≠- .
int
≠≠. 1
length
≠≠2 8
)
≠≠8 9
{
ÆÆ 	
const
ØØ 
string
ØØ 
allowedChars
ØØ %
=
ØØ& '
$str
ØØ( f
;
ØØf g
var
∞∞ 
randNum
∞∞ 
=
∞∞ 
new
∞∞ 
Random
∞∞ $
(
∞∞$ %
)
∞∞% &
;
∞∞& '
var
±± 
chars
±± 
=
±± 
new
±± 
char
±±  
[
±±  !
length
±±! '
]
±±' (
;
±±( )
for
≥≥ 
(
≥≥ 
var
≥≥ 
i
≥≥ 
=
≥≥ 
$num
≥≥ 
;
≥≥ 
i
≥≥ 
<=
≥≥  
length
≥≥! '
-
≥≥( )
$num
≥≥* +
;
≥≥+ ,
i
≥≥- .
++
≥≥. 0
)
≥≥0 1
{
¥¥ 
chars
µµ 
[
µµ 
i
µµ 
]
µµ 
=
µµ 
allowedChars
µµ '
[
µµ' (
Convert
µµ( /
.
µµ/ 0
ToInt32
µµ0 7
(
µµ7 8
(
µµ8 9
allowedChars
µµ9 E
.
µµE F
Length
µµF L
)
µµL M
*
µµN O
randNum
µµP W
.
µµW X

NextDouble
µµX b
(
µµb c
)
µµc d
)
µµd e
]
µµe f
;
µµf g
}
∂∂ 
return
∑∑ 
new
∑∑ 
string
∑∑ 
(
∑∑ 
chars
∑∑ #
)
∑∑# $
;
∑∑$ %
}
∏∏ 	
public
∫∫ 

JsonResult
∫∫ 
	CheckName
∫∫ #
(
∫∫# $
FormCollection
∫∫$ 2
form
∫∫3 7
)
∫∫7 8
{
ªª 	
try
ºº 
{
ΩΩ 
var
ææ 
name
ææ 
=
ææ 
form
ææ 
[
ææ  
$str
ææ  *
]
ææ* +
;
ææ+ ,
var
øø 
qry
øø 
=
øø 
(
øø 
from
øø 
s
øø  !
in
øø" $
ObjEdbContext
øø% 2
.
øø2 3
ObjRegistrations
øø3 C
where
øøD I
s
øøJ K
.
øøK L
UserName
øøL T
==
øøU W
name
øøX \
select
øø] c
s
øød e
)
øøe f
.
øøf g
FirstOrDefault
øøg u
(
øøu v
)
øøv w
;
øøw x
if
¿¿ 
(
¿¿ 
qry
¿¿ 
!=
¿¿ 
null
¿¿ 
)
¿¿  
{
¡¡ 
return
¬¬ 
Json
¬¬ 
(
¬¬  
$num
¬¬  !
)
¬¬! "
;
¬¬" #
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ 
)
≈≈ 
{
∆∆ 
return
«« 
Json
«« 
(
«« 
$num
«« 
)
«« 
;
«« 
}
»» 
return
…… 
Json
…… 
(
…… 
$num
…… 
)
…… 
;
…… 
}
   	
public
ÃÃ 

JsonResult
ÃÃ 

CheckEmail
ÃÃ $
(
ÃÃ$ %
FormCollection
ÃÃ% 3
form
ÃÃ4 8
)
ÃÃ8 9
{
ÕÕ 	
try
ŒŒ 
{
œœ 
var
–– 
emailId
–– 
=
–– 
form
–– "
[
––" #
$str
––# ,
]
––, -
;
––- .
var
—— 
qry
—— 
=
—— 
(
—— 
from
—— 
s
——  !
in
——" $
ObjEdbContext
——% 2
.
——2 3
ObjRegistrations
——3 C
where
——D I
s
——J K
.
——K L
EmailId
——L S
==
——T V
emailId
——W ^
select
——_ e
s
——f g
)
——g h
.
——h i
FirstOrDefault
——i w
(
——w x
)
——x y
;
——y z
if
““ 
(
““ 
qry
““ 
!=
““ 
null
““ 
)
““  
{
”” 
return
‘‘ 
Json
‘‘ 
(
‘‘  
$num
‘‘  !
)
‘‘! "
;
‘‘" #
}
’’ 
}
÷÷ 
catch
◊◊ 
(
◊◊ 
	Exception
◊◊ 
)
◊◊ 
{
ÿÿ 
return
ŸŸ 
Json
ŸŸ 
(
ŸŸ 
$num
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
return
€€ 
Json
€€ 
(
€€ 
$num
€€ 
)
€€ 
;
€€ 
}
‹‹ 	
[
›› 	
HttpPost
››	 
]
›› 
public
ﬁﬁ 
ActionResult
ﬁﬁ 

ForgetPass
ﬁﬁ &
(
ﬁﬁ& '
string
ﬁﬁ' -
emailId
ﬁﬁ. 5
)
ﬁﬁ5 6
{
ﬂﬂ 	
try
‡‡ 
{
·· 
var
‚‚ 
chkmail
‚‚ 
=
‚‚ 
(
‚‚ 
from
‚‚ #
s
‚‚$ %
in
‚‚& (
ObjEdbContext
‚‚) 6
.
‚‚6 7
ObjRegistrations
‚‚7 G
where
‚‚H M
s
‚‚N O
.
‚‚O P
EmailId
‚‚P W
==
‚‚X Z
emailId
‚‚[ b
select
‚‚c i
s
‚‚j k
)
‚‚k l
.
‚‚l m
FirstOrDefault
‚‚m {
(
‚‚{ |
)
‚‚| }
;
‚‚} ~
if
„„ 
(
„„ 
chkmail
„„ 
!=
„„ 
null
„„ #
)
„„# $
{
‰‰ 
var
ÂÂ 
userName
ÂÂ  
=
ÂÂ! "
chkmail
ÂÂ# *
.
ÂÂ* +
UserName
ÂÂ+ 3
;
ÂÂ3 4
var
ÊÊ 
name
ÊÊ 
=
ÊÊ 
chkmail
ÊÊ &
.
ÊÊ& '
	FirstName
ÊÊ' 0
+
ÊÊ1 2
$str
ÊÊ3 6
+
ÊÊ7 8
chkmail
ÊÊ9 @
.
ÊÊ@ A
LastName
ÊÊA I
;
ÊÊI J
var
ÈÈ 
keyNew
ÈÈ 
=
ÈÈ  
GeneratePassword
ÈÈ! 1
(
ÈÈ1 2
$num
ÈÈ2 4
)
ÈÈ4 5
;
ÈÈ5 6
var
ÎÎ 
	verifyUrl
ÎÎ !
=
ÎÎ" #
System
ÎÎ$ *
.
ÎÎ* +
Web
ÎÎ+ .
.
ÎÎ. /
HttpContext
ÎÎ/ :
.
ÎÎ: ;
Current
ÎÎ; B
.
ÎÎB C
Request
ÎÎC J
.
ÎÎJ K
Url
ÎÎK N
.
ÎÎN O
GetLeftPart
ÎÎO Z
(
ÎÎZ [

UriPartial
ÎÎ[ e
.
ÎÎe f
	Authority
ÎÎf o
)
ÎÎo p
+
ÎÎq r
$strÎÎs ê
+ÎÎë í
keyNewÎÎì ô
;ÎÎô ö
var
ÌÌ 
smtp
ÌÌ 
=
ÌÌ 
new
ÌÌ "

SmtpClient
ÌÌ# -
{
ÓÓ 
Host
ÔÔ 
=
ÔÔ 
$str
ÔÔ /
,
ÔÔ/ 0
Port
 
=
 
$num
 !
,
! "#
UseDefaultCredentials
ÒÒ -
=
ÒÒ. /
false
ÒÒ0 5
,
ÒÒ5 6
Credentials
ÚÚ #
=
ÚÚ$ %
new
ÚÚ& )
System
ÚÚ* 0
.
ÚÚ0 1
Net
ÚÚ1 4
.
ÚÚ4 5
NetworkCredential
ÚÚ5 F
(
ÚÚF G
$str
ÚÚG a
,
ÚÚa b
$str
ÚÚc e
)
ÚÚe f
,
ÚÚf g
	EnableSsl
ÛÛ !
=
ÛÛ" #
true
ÛÛ$ (
}
ÙÙ 
;
ÙÙ 
using
ıı 
(
ıı 
var
ıı 
message
ıı &
=
ıı' (
new
ıı) ,
MailMessage
ıı- 8
(
ıı8 9
)
ıı9 :
)
ıı: ;
{
ˆˆ 
message
˜˜ 
.
˜˜  
From
˜˜  $
=
˜˜% &
new
˜˜' *
MailAddress
˜˜+ 6
(
˜˜6 7
$str
˜˜7 Q
)
˜˜Q R
;
˜˜R S
message
¯¯ 
.
¯¯  
Subject
¯¯  '
=
¯¯( )
$str
¯¯* F
;
¯¯F G
message
˘˘ 
.
˘˘  
Body
˘˘  $
=
˘˘% &
$str
˙˙ l
+
˙˙m n
name
˙˙o s
+
˙˙t u
$str
˚˚ 9
+
˚˚: ;
userName
˚˚< D
+
˚˚E F
$str¸¸ ∂
+
˝˝ 
$str
˝˝ -
+
˝˝. /
	verifyUrl
˝˝0 9
+
˝˝: ;
$str
˝˝< @
+
˝˝A B
keyNew
˝˝C I
+
˝˝J K
$str
˝˝L c
+
˝˝d e
	verifyUrl
˝˝f o
+
˝˝p q
$str
˝˝r t
+
˛˛ 
$str
˛˛ d
+
ˇˇ 
$str
ˇˇ Y
;
ˇˇY Z
message
ÄÄ 
.
ÄÄ  

IsBodyHtml
ÄÄ  *
=
ÄÄ+ ,
true
ÄÄ- 1
;
ÄÄ1 2
message
ÅÅ 
.
ÅÅ  
Priority
ÅÅ  (
=
ÅÅ) *
MailPriority
ÅÅ+ 7
.
ÅÅ7 8
High
ÅÅ8 <
;
ÅÅ< =
message
ÇÇ 
.
ÇÇ  
To
ÇÇ  "
.
ÇÇ" #
Add
ÇÇ# &
(
ÇÇ& '
emailId
ÇÇ' .
)
ÇÇ. /
;
ÇÇ/ 0
}
ÖÖ 
return
ÜÜ 
RedirectToAction
ÜÜ +
(
ÜÜ+ ,
$str
ÜÜ, 3
,
ÜÜ3 4
$str
ÜÜ5 <
)
ÜÜ< =
;
ÜÜ= >
}
áá 
ViewBag
àà 
.
àà 
EmailMessage
àà $
=
àà% &
$str
àà' F
;
ààF G
return
ââ 
RedirectToAction
ââ '
(
ââ' (
$str
ââ( /
)
ââ/ 0
;
ââ0 1
}
ää 
catch
ãã 
(
ãã 
	Exception
ãã 
e
ãã 
)
ãã 
{
åå 
ViewBag
çç 
.
çç 
EmailMessage
çç $
=
çç% &
$str
çç' 7
+
çç8 9
e
çç: ;
;
çç; <
return
éé 
RedirectToAction
éé '
(
éé' (
$str
éé( /
)
éé/ 0
;
éé0 1
}
èè 
}
êê 	
public
ëë 
ActionResult
ëë 
ResetPassword
ëë )
(
ëë) *
)
ëë* +
{
íí 	
return
ìì 
View
ìì 
(
ìì 
)
ìì 
;
ìì 
}
îî 	
[
ïï 	&
ValidateAntiForgeryToken
ïï	 !
]
ïï! "
[
ññ 	
HttpPost
ññ	 
]
ññ 
public
óó 
ActionResult
óó 
ResetPassword
óó )
(
óó) *
UserRegistration
óó* :!
objUserRegistration
óó; N
)
óóN O
{
òò 	
try
ôô 
{
öö 
var
úú 
queryUserName
úú !
=
úú" #
(
úú$ %
from
úú% )
s
úú* +
in
úú, .
ObjEdbContext
úú/ <
.
úú< =
ObjRegistrations
úú= M
where
úúN S
s
úúT U
.
úúU V
UserName
úúV ^
==
úú_ a!
objUserRegistration
úúb u
.
úúu v
UserName
úúv ~
||úú Å
súúÇ É
.úúÉ Ñ
EmailIdúúÑ ã
==úúå é#
objUserRegistrationúúè ¢
.úú¢ £
EmailIdúú£ ™
selectúú´ ±
súú≤ ≥
)úú≥ ¥
.úú¥ µ
FirstOrDefaultúúµ √
(úú√ ƒ
)úúƒ ≈
;úú≈ ∆
if
ùù 
(
ùù 
queryUserName
ùù !
==
ùù" $
null
ùù% )
)
ùù) *
return
ûû 
View
ûû 
(
ûû  
)
ûû  !
;
ûû! "
var
¢¢ 
keyNew
¢¢ 
=
¢¢ 
GeneratePassword
¢¢ -
(
¢¢- .
$num
¢¢. 0
)
¢¢0 1
;
¢¢1 2
var
££ 
password
££ 
=
££ 
Helper
££ %
.
££% &
EncodePassword
££& 4
(
££4 5!
objUserRegistration
££5 H
.
££H I
Password
££I Q
,
££Q R
keyNew
££S Y
)
££Y Z
;
££Z [
queryUserName
•• 
.
•• 
Password
•• &
=
••' (
password
••) 1
;
••1 2
queryUserName
¶¶ 
.
¶¶ 

ModifyDate
¶¶ (
=
¶¶) *
DateTime
¶¶+ 3
.
¶¶3 4
Now
¶¶4 7
;
¶¶7 8
queryUserName
ßß 
.
ßß 
VCode
ßß #
=
ßß$ %
keyNew
ßß& ,
;
ßß, -
ObjEdbContext
®® 
.
®® 
ObjRegistrations
®® .
.
®®. /
AddOrUpdate
®®/ :
(
®®: ;
queryUserName
®®; H
)
®®H I
;
®®I J
ObjEdbContext
©© 
.
©© 
SaveChanges
©© )
(
©©) *
)
©©* +
;
©©+ ,

ModelState
™™ 
.
™™ 
Clear
™™  
(
™™  !
)
™™! "
;
™™" #
return
´´ 
RedirectToAction
´´ '
(
´´' (
$str
´´( /
)
´´/ 0
;
´´0 1
}
¨¨ 
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
e
≠≠ 
)
≠≠ 
{
ÆÆ 
ViewBag
ØØ 
.
ØØ 
ErrorMessage
ØØ $
=
ØØ% &
$str
ØØ' ?
+
ØØ@ A
e
ØØB C
;
ØØC D
return
∞∞ 
View
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
}
±± 
}
≤≤ 	
public
≥≥ 
ActionResult
≥≥ 
Viewuser
≥≥ $
(
≥≥$ %
int
≥≥% (
id
≥≥) +
=
≥≥, -
$num
≥≥. /
)
≥≥/ 0
{
¥¥ 	
try
µµ 
{
∂∂ 
if
∑∑ 
(
∑∑ 
Session
∑∑ 
[
∑∑ 
$str
∑∑ &
]
∑∑& '
==
∑∑( *
null
∑∑+ /
)
∑∑/ 0
return
∑∑1 7
RedirectToAction
∑∑8 H
(
∑∑H I
$str
∑∑I P
)
∑∑P Q
;
∑∑Q R
var
∏∏ 
user
∏∏ 
=
∏∏ 
ObjEdbContext
∏∏ (
.
∏∏( )
ObjRegistrations
∏∏) 9
.
∏∏9 :
Find
∏∏: >
(
∏∏> ?
id
∏∏? A
)
∏∏A B
;
∏∏B C
if
ππ 
(
ππ 
user
ππ 
==
ππ 
null
ππ  
)
ππ  !
{
∫∫ 
return
ªª 
HttpNotFound
ªª '
(
ªª' (
)
ªª( )
;
ªª) *
}
ºº 
return
ΩΩ 
View
ΩΩ 
(
ΩΩ 
user
ΩΩ  
)
ΩΩ  !
;
ΩΩ! "
}
ææ 
catch
øø 
(
øø 
	Exception
øø 
e
øø 
)
øø 
{
¿¿ 
ViewBag
¡¡ 
.
¡¡ 
ErrorMessage
¡¡ $
=
¡¡% &
$str
¡¡' ?
+
¡¡@ A
e
¡¡B C
;
¡¡C D
return
¬¬ 
View
¬¬ 
(
¬¬ 
$str
¬¬ #
)
¬¬# $
;
¬¬$ %
}
√√ 
}
ƒƒ 	
public
∆∆ 
ActionResult
∆∆ 
EditUser
∆∆ $
(
∆∆$ %
int
∆∆% (
id
∆∆) +
=
∆∆, -
$num
∆∆. /
)
∆∆/ 0
{
«« 	
try
»» 
{
…… 
if
   
(
   
Session
   
[
   
$str
   &
]
  & '
==
  ( *
null
  + /
)
  / 0
return
  1 7
RedirectToAction
  8 H
(
  H I
$str
  I P
)
  P Q
;
  Q R
var
ÀÀ 
student
ÀÀ 
=
ÀÀ 
ObjEdbContext
ÀÀ +
.
ÀÀ+ ,
ObjRegistrations
ÀÀ, <
.
ÀÀ< =
Find
ÀÀ= A
(
ÀÀA B
id
ÀÀB D
)
ÀÀD E
;
ÀÀE F
if
ÃÃ 
(
ÃÃ 
student
ÃÃ 
==
ÃÃ 
null
ÃÃ #
)
ÃÃ# $
{
ÕÕ 
return
ŒŒ 
View
ŒŒ 
(
ŒŒ  
$str
ŒŒ  '
)
ŒŒ' (
;
ŒŒ( )
}
œœ 
return
–– 
View
–– 
(
–– 
student
–– #
)
––# $
;
––$ %
}
—— 
catch
““ 
(
““ 
	Exception
““ 
e
““ 
)
““ 
{
”” 
ViewBag
‘‘ 
.
‘‘ 
ErrorMessage
‘‘ $
=
‘‘% &
$str
‘‘' ?
+
‘‘@ A
e
‘‘B C
;
‘‘C D
return
’’ 
View
’’ 
(
’’ 
$str
’’ #
)
’’# $
;
’’$ %
}
÷÷ 
}
◊◊ 	
[
ÿÿ 	&
ValidateAntiForgeryToken
ÿÿ	 !
]
ÿÿ! "
[
ŸŸ 	
HttpPost
ŸŸ	 
]
ŸŸ 
public
⁄⁄ 
ActionResult
⁄⁄ 
EditUser
⁄⁄ $
(
⁄⁄$ %
AdminDetail
⁄⁄% 0!
objUserRegistration
⁄⁄1 D
)
⁄⁄D E
{
€€ 	
try
‹‹ 
{
›› 
if
ﬁﬁ 
(
ﬁﬁ 
Session
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ &
]
ﬁﬁ& '
==
ﬁﬁ( *
null
ﬁﬁ+ /
)
ﬁﬁ/ 0
return
ﬁﬁ1 7
RedirectToAction
ﬁﬁ8 H
(
ﬁﬁH I
$str
ﬁﬁI P
)
ﬁﬁP Q
;
ﬁﬁQ R
if
ﬂﬂ 
(
ﬂﬂ 
!
ﬂﬂ 

ModelState
ﬂﬂ 
.
ﬂﬂ  
IsValid
ﬂﬂ  '
)
ﬂﬂ' (
return
‡‡ 
View
‡‡ 
(
‡‡  
$str
‡‡  '
)
‡‡' (
;
‡‡( )!
objUserRegistration
·· #
.
··# $

ModifyDate
··$ .
=
··/ 0
DateTime
··1 9
.
··9 :
Now
··: =
;
··= >
ObjEdbContext
‚‚ 
.
‚‚ 
Entry
‚‚ #
(
‚‚# $!
objUserRegistration
‚‚$ 7
)
‚‚7 8
.
‚‚8 9
State
‚‚9 >
=
‚‚? @
EntityState
‚‚A L
.
‚‚L M
Modified
‚‚M U
;
‚‚U V
ObjEdbContext
„„ 
.
„„ 
ObjRegistrations
„„ .
.
„„. /
AddOrUpdate
„„/ :
(
„„: ;!
objUserRegistration
„„; N
)
„„N O
;
„„O P
ObjEdbContext
‰‰ 
.
‰‰ 
SaveChanges
‰‰ )
(
‰‰) *
)
‰‰* +
;
‰‰+ ,

ModelState
ÂÂ 
.
ÂÂ 
Clear
ÂÂ  
(
ÂÂ  !
)
ÂÂ! "
;
ÂÂ" #
ViewBag
ÊÊ 
.
ÊÊ 
successMessage
ÊÊ &
=
ÊÊ' (
$str
ÊÊ) N
;
ÊÊN O
return
ÁÁ 
RedirectToAction
ÁÁ '
(
ÁÁ' (
$str
ÁÁ( /
)
ÁÁ/ 0
;
ÁÁ0 1
}
ËË 
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ 
e
ÈÈ 
)
ÈÈ 
{
ÍÍ 
ViewBag
ÎÎ 
.
ÎÎ 
ErrorMessage
ÎÎ $
=
ÎÎ% &
$str
ÎÎ' ?
+
ÎÎ@ A
e
ÎÎB C
;
ÎÎC D
return
ÏÏ 
View
ÏÏ 
(
ÏÏ 
)
ÏÏ 
;
ÏÏ 
}
ÌÌ 
}
ÓÓ 	
public
ÔÔ 
ActionResult
ÔÔ 

DeleteUser
ÔÔ &
(
ÔÔ& '
int
ÔÔ' *
id
ÔÔ+ -
)
ÔÔ- .
{
 	
if
ÒÒ 
(
ÒÒ 
Session
ÒÒ 
[
ÒÒ 
$str
ÒÒ "
]
ÒÒ" #
==
ÒÒ$ &
null
ÒÒ' +
)
ÒÒ+ ,
return
ÒÒ- 3
RedirectToAction
ÒÒ4 D
(
ÒÒD E
$str
ÒÒE L
)
ÒÒL M
;
ÒÒM N
try
ÚÚ 
{
ÛÛ 
var
ÙÙ 
user
ÙÙ 
=
ÙÙ 
ObjEdbContext
ÙÙ (
.
ÙÙ( )
ObjRegistrations
ÙÙ) 9
.
ÙÙ9 :
Find
ÙÙ: >
(
ÙÙ> ?
id
ÙÙ? A
)
ÙÙA B
;
ÙÙB C
ObjEdbContext
ıı 
.
ıı 
ObjRegistrations
ıı .
.
ıı. /
Remove
ıı/ 5
(
ıı5 6
user
ıı6 :
)
ıı: ;
;
ıı; <
ObjEdbContext
ˆˆ 
.
ˆˆ 
SaveChanges
ˆˆ )
(
ˆˆ) *
)
ˆˆ* +
;
ˆˆ+ ,
ViewBag
˜˜ 
.
˜˜ 
successMessage
˜˜ &
=
˜˜' (
$str
˜˜) N
;
˜˜N O
return
¯¯ 
RedirectToAction
¯¯ '
(
¯¯' (
$str
¯¯( /
)
¯¯/ 0
;
¯¯0 1
}
˘˘ 
catch
˙˙ 
(
˙˙ 
	Exception
˙˙ 
e
˙˙ 
)
˙˙ 
{
˚˚ 
ViewBag
¸¸ 
.
¸¸ 
ErrorMessage
¸¸ $
=
¸¸% &
$str
¸¸' ?
+
¸¸@ A
e
¸¸B C
;
¸¸C D
return
˝˝ 
View
˝˝ 
(
˝˝ 
$str
˝˝ #
)
˝˝# $
;
˝˝$ %
}
˛˛ 
}
ˇˇ 	
public
ÄÄ 
ActionResult
ÄÄ "
ResetPasswordForUser
ÄÄ 0
(
ÄÄ0 1
)
ÄÄ1 2
{
ÅÅ 	
if
ÇÇ 
(
ÇÇ 
Session
ÇÇ 
[
ÇÇ 
$str
ÇÇ "
]
ÇÇ" #
==
ÇÇ$ &
null
ÇÇ' +
)
ÇÇ+ ,
return
ÇÇ- 3
RedirectToAction
ÇÇ4 D
(
ÇÇD E
$str
ÇÇE L
)
ÇÇL M
;
ÇÇM N
return
ÉÉ 
View
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
[
ÖÖ 	&
ValidateAntiForgeryToken
ÖÖ	 !
]
ÖÖ! "
[
ÜÜ 	
HttpPost
ÜÜ	 
]
ÜÜ 
public
áá 
ActionResult
áá "
ResetPasswordForUser
áá 0
(
áá0 1
UserRegistration
áá1 A!
objUserRegistration
ááB U
)
ááU V
{
àà 	
if
ââ 
(
ââ 
Session
ââ 
[
ââ 
$str
ââ "
]
ââ" #
==
ââ$ &
null
ââ' +
)
ââ+ ,
return
ââ- 3
RedirectToAction
ââ4 D
(
ââD E
$str
ââE L
)
ââL M
;
ââM N
try
ää 
{
ãã 
var
çç 
queryUserName
çç !
=
çç" #
(
çç$ %
from
çç% )
s
çç* +
in
çç, .
ObjEdbContext
çç/ <
.
çç< =
ObjRegistrations
çç= M
where
ççN S
s
ççT U
.
ççU V
UserName
ççV ^
==
çç_ a!
objUserRegistration
ççb u
.
ççu v
UserName
ççv ~
||çç Å
sççÇ É
.ççÉ Ñ
EmailIdççÑ ã
==ççå é#
objUserRegistrationççè ¢
.çç¢ £
EmailIdçç£ ™
selectçç´ ±
sçç≤ ≥
)çç≥ ¥
.çç¥ µ
FirstOrDefaultççµ √
(çç√ ƒ
)ççƒ ≈
;çç≈ ∆
if
éé 
(
éé 
queryUserName
éé !
==
éé" $
null
éé% )
)
éé) *
return
èè 
View
èè 
(
èè  
)
èè  !
;
èè! "
var
ëë 
keyNew
ëë 
=
ëë 
GeneratePassword
ëë -
(
ëë- .
$num
ëë. 0
)
ëë0 1
;
ëë1 2
var
íí 
password
íí 
=
íí 
Helper
íí %
.
íí% &
EncodePassword
íí& 4
(
íí4 5!
objUserRegistration
íí5 H
.
ííH I
Password
ííI Q
,
ííQ R
keyNew
ííS Y
)
ííY Z
;
ííZ [
queryUserName
îî 
.
îî 
Password
îî &
=
îî' (
password
îî) 1
;
îî1 2
queryUserName
ïï 
.
ïï 

ModifyDate
ïï (
=
ïï) *
DateTime
ïï+ 3
.
ïï3 4
Now
ïï4 7
;
ïï7 8
queryUserName
ññ 
.
ññ 
VCode
ññ #
=
ññ$ %
keyNew
ññ& ,
;
ññ, -
ObjEdbContext
óó 
.
óó 
ObjRegistrations
óó .
.
óó. /
AddOrUpdate
óó/ :
(
óó: ;
queryUserName
óó; H
)
óóH I
;
óóI J
ObjEdbContext
òò 
.
òò 
SaveChanges
òò )
(
òò) *
)
òò* +
;
òò+ ,

ModelState
ôô 
.
ôô 
Clear
ôô  
(
ôô  !
)
ôô! "
;
ôô" #
return
öö 
RedirectToAction
öö '
(
öö' (
$str
öö( /
)
öö/ 0
;
öö0 1
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
e
úú 
)
úú 
{
ùù 
ViewBag
ûû 
.
ûû 
ErrorMessage
ûû $
=
ûû% &
$str
ûû' ?
+
ûû@ A
e
ûûB C
;
ûûC D
return
üü 
View
üü 
(
üü 
)
üü 
;
üü 
}
†† 
}
°° 	
public
££ 
ActionResult
££ 
GetTwitterData
££ *
(
££* +
)
££+ ,
{
§§ 	
if
•• 
(
•• 
Session
•• 
[
•• 
$str
•• "
]
••" #
!=
••$ &
null
••' +
)
••+ ,
{
¶¶ 
if
ßß 
(
ßß 
Session
ßß 
[
ßß 
$str
ßß &
]
ßß& '
==
ßß( *
null
ßß+ /
)
ßß/ 0
return
ßß1 7
RedirectToAction
ßß8 H
(
ßßH I
$str
ßßI P
)
ßßP Q
;
ßßQ R
var
®® 
pendingdata
®® 
=
®®  !
(
®®" #
from
®®# '
sa1
®®( +
in
®®, .
ObjEdbContext
®®/ <
.
®®< =
ObjTwitterDatas
®®= L
where
®®M R
sa1
®®S V
.
®®V W
IsValid
®®W ^
==
®®_ a
$str
®®b k
select
®®l r
sa1
®®s v
)
®®v w
;
®®w x
ViewData
©© 
[
©© 
$str
©© "
]
©©" #
=
©©$ %
pendingdata
©©& 1
.
©©1 2
ToList
©©2 8
(
©©8 9
)
©©9 :
;
©©: ;
return
™™ 
View
™™ 
(
™™ 
)
™™ 
;
™™ 
}
´´ 
return
¨¨ 
RedirectToAction
¨¨ #
(
¨¨# $
$str
¨¨$ +
,
¨¨+ ,
$str
¨¨- 4
)
¨¨4 5
;
¨¨5 6
}
≠≠ 	
public
ÆÆ 
ActionResult
ÆÆ 
AddTwitterData
ÆÆ *
(
ÆÆ* +
TwitterData
ÆÆ+ 6
objTwitterData
ÆÆ7 E
)
ÆÆE F
{
ØØ 	
if
∞∞ 
(
∞∞ 
Session
∞∞ 
[
∞∞ 
$str
∞∞ "
]
∞∞" #
==
∞∞$ &
null
∞∞' +
)
∞∞+ ,
return
∞∞- 3
RedirectToAction
∞∞4 D
(
∞∞D E
$str
∞∞E L
)
∞∞L M
;
∞∞M N
try
±± 
{
≤≤ 
var
≥≥ 
service
≥≥ 
=
≥≥ 
new
≥≥ !
TwitterService
≥≥" 0
(
≥≥0 1
ConsumerKey
≥≥1 <
,
≥≥< =
ConsumerSecret
≥≥> L
)
≥≥L M
;
≥≥M N
service
¥¥ 
.
¥¥ 
AuthenticateWith
¥¥ (
(
¥¥( )
AccessToken
¥¥) 4
,
¥¥4 5
AccessTokenSecret
¥¥6 G
)
¥¥G H
;
¥¥H I
var
∂∂ 
tweets
∂∂ 
=
∂∂ 
service
∂∂ $
.
∂∂$ %
Search
∂∂% +
(
∂∂+ ,
new
∂∂, /
SearchOptions
∂∂0 =
{
∂∂> ?
Q
∂∂@ A
=
∂∂B C
$str
∂∂D Q
,
∂∂Q R
Count
∂∂R W
=
∂∂X Y
$num
∂∂Z ]
}
∂∂] ^
)
∂∂^ _
;
∂∂_ `
IEnumerable
ππ 
<
ππ 
TwitterStatus
ππ )
>
ππ) *
status
ππ+ 1
=
ππ2 3
tweets
ππ4 :
.
ππ: ;
Statuses
ππ; C
;
ππC D
foreach
∫∫ 
(
∫∫ 
var
∫∫ 
item
∫∫ !
in
∫∫" $
status
∫∫% +
)
∫∫+ ,
{
ªª 
var
ºº 
qry
ºº 
=
ºº 
(
ºº 
from
ºº #
s
ºº$ %
in
ºº& (
ObjEdbContext
ºº) 6
.
ºº6 7
ObjTwitterDatas
ºº7 F
where
ººG L
s
ººM N
.
ººN O
Text
ººO S
==
ººT V
item
ººW [
.
ºº[ \
Text
ºº\ `
&&
ººa c
s
ººd e
.
ººe f

ScreenName
ººf p
==
ººq s
item
ººt x
.
ººx y
User
ººy }
.
ºº} ~

ScreenNameºº~ à
selectººâ è
sººê ë
)ººë í
.ººí ì
FirstOrDefaultººì °
(ºº° ¢
)ºº¢ £
;ºº£ §
if
ΩΩ 
(
ΩΩ 
qry
ΩΩ 
!=
ΩΩ 
null
ΩΩ #
)
ΩΩ# $
continue
ΩΩ% -
;
ΩΩ- .
objTwitterData
ææ "
.
ææ" #

ScreenName
ææ# -
=
ææ. /
item
ææ0 4
.
ææ4 5
User
ææ5 9
.
ææ9 :

ScreenName
ææ: D
;
ææD E
objTwitterData
øø "
.
øø" #
UserName
øø# +
=
øø, -
item
øø. 2
.
øø2 3
User
øø3 7
.
øø7 8
Name
øø8 <
;
øø< =
objTwitterData
¿¿ "
.
¿¿" #
Text
¿¿# '
=
¿¿( )
item
¿¿* .
.
¿¿. /
Text
¿¿/ 3
;
¿¿3 4
objTwitterData
¡¡ "
.
¡¡" #
RetweetCount
¡¡# /
=
¡¡0 1
item
¡¡2 6
.
¡¡6 7
RetweetCount
¡¡7 C
;
¡¡C D
objTwitterData
¬¬ "
.
¬¬" #
FavouritesCount
¬¬# 2
=
¬¬3 4
item
¬¬5 9
.
¬¬9 :
User
¬¬: >
.
¬¬> ?
FavouritesCount
¬¬? N
;
¬¬N O
objTwitterData
√√ "
.
√√" #
ProfileImageUrl
√√# 2
=
√√3 4
item
√√5 9
.
√√9 :
User
√√: >
.
√√> ?
ProfileImageUrl
√√? N
;
√√N O
objTwitterData
ƒƒ "
.
ƒƒ" #
TimeStam
ƒƒ# +
=
ƒƒ, -
item
ƒƒ. 2
.
ƒƒ2 3
CreatedDate
ƒƒ3 >
;
ƒƒ> ?
objTwitterData
≈≈ "
.
≈≈" #
RetweetUrlId
≈≈# /
=
≈≈0 1
$str
≈≈2 `
+
≈≈a b
item
≈≈c g
.
≈≈g h
Id
≈≈h j
;
≈≈j k
objTwitterData
∆∆ "
.
∆∆" #
ReplyaUrlId
∆∆# .
=
∆∆/ 0
$str
∆∆1 `
+
∆∆a b
item
∆∆c g
.
∆∆g h
Id
∆∆h j
;
∆∆j k
objTwitterData
«« "
.
««" #
FavoriteUrlId
««# 0
=
««1 2
$str
««3 b
+
««c d
item
««e i
.
««i j
Id
««j l
;
««l m
objTwitterData
»» "
.
»»" #
IsValid
»»# *
=
»»+ ,
$str
»»- 6
;
»»6 7
ObjEdbContext
…… !
.
……! "
ObjTwitterDatas
……" 1
.
……1 2
Add
……2 5
(
……5 6
objTwitterData
……6 D
)
……D E
;
……E F
ObjEdbContext
   !
.
  ! "
SaveChanges
  " -
(
  - .
)
  . /
;
  / 0

ModelState
ÀÀ 
.
ÀÀ 
Clear
ÀÀ $
(
ÀÀ$ %
)
ÀÀ% &
;
ÀÀ& '
}
ÃÃ 
}
ÕÕ 
catch
ŒŒ 
(
ŒŒ 
	Exception
ŒŒ 
e
ŒŒ 
)
ŒŒ 
{
œœ 
ViewBag
—— 
.
—— 
ErrorMessage
—— $
=
——% &
$str
——' ?
+
——@ A
e
——B C
;
——C D
return
““ 
RedirectToAction
““ '
(
““' (
$str
““( 8
)
““8 9
;
““9 :
}
”” 
return
‘‘ 
RedirectToAction
‘‘ #
(
‘‘# $
$str
‘‘$ 4
)
‘‘4 5
;
‘‘5 6
}
’’ 	
public
÷÷ 
ActionResult
÷÷ 
TwittesView
÷÷ '
(
÷÷' (
int
÷÷( +
id
÷÷, .
=
÷÷/ 0
$num
÷÷1 2
)
÷÷2 3
{
◊◊ 	
try
ÿÿ 
{
ŸŸ 
if
⁄⁄ 
(
⁄⁄ 
Session
⁄⁄ 
[
⁄⁄ 
$str
⁄⁄ &
]
⁄⁄& '
==
⁄⁄( *
null
⁄⁄+ /
)
⁄⁄/ 0
return
⁄⁄1 7
RedirectToAction
⁄⁄8 H
(
⁄⁄H I
$str
⁄⁄I P
,
⁄⁄P Q
$str
⁄⁄R Y
)
⁄⁄Y Z
;
⁄⁄Z [
var
€€ 
user
€€ 
=
€€ 
ObjEdbContext
€€ (
.
€€( )
ObjTwitterDatas
€€) 8
.
€€8 9
Find
€€9 =
(
€€= >
id
€€> @
)
€€@ A
;
€€A B
ViewData
‹‹ 
[
‹‹ 
$str
‹‹ &
]
‹‹& '
=
‹‹( )
user
‹‹* .
as
‹‹/ 1
TwitterData
‹‹2 =
;
‹‹= >
return
›› 
View
›› 
(
›› 
user
››  
)
››  !
;
››! "
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
e
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
ViewBag
·· 
.
·· 
ErrorMessage
·· $
=
··% &
$str
··' ?
+
··@ A
e
··B C
;
··C D
return
‚‚ 
View
‚‚ 
(
‚‚ 
)
‚‚ 
;
‚‚ 
}
„„ 
}
‰‰ 	
public
ÊÊ 
ActionResult
ÊÊ 

GetYouTube
ÊÊ &
(
ÊÊ& '
)
ÊÊ' (
{
ÁÁ 	
try
ËË 
{
ÈÈ 
if
ÍÍ 
(
ÍÍ 
Session
ÍÍ 
[
ÍÍ 
$str
ÍÍ &
]
ÍÍ& '
!=
ÍÍ( *
null
ÍÍ+ /
)
ÍÍ/ 0
{
ÎÎ 
return
ÏÏ 
View
ÏÏ 
(
ÏÏ  
ObjEdbContext
ÏÏ  -
.
ÏÏ- .
ObjTubeDatas
ÏÏ. :
.
ÏÏ: ;
ToList
ÏÏ; A
(
ÏÏA B
)
ÏÏB C
)
ÏÏC D
;
ÏÏD E
}
ÌÌ 
return
ÓÓ 
RedirectToAction
ÓÓ '
(
ÓÓ' (
$str
ÓÓ( /
,
ÓÓ/ 0
$str
ÓÓ1 8
)
ÓÓ8 9
;
ÓÓ9 :
}
ÔÔ 
catch
 
(
 
	Exception
 
e
 
)
 
{
ÒÒ 
ViewBag
ÚÚ 
.
ÚÚ 
ErrorMessage
ÚÚ $
=
ÚÚ% &
$str
ÚÚ' ?
+
ÚÚ@ A
e
ÚÚB C
;
ÚÚC D
return
ÛÛ 
RedirectToAction
ÛÛ '
(
ÛÛ' (
$str
ÛÛ( 4
)
ÛÛ4 5
;
ÛÛ5 6
}
ÙÙ 
}
ˆˆ 	
public
˜˜ 
ActionResult
˜˜ 
Save
˜˜  
(
˜˜  !
YouTubeData
˜˜! ,
objYouTubeData
˜˜- ;
)
˜˜; <
{
¯¯ 	
if
˘˘ 
(
˘˘ 
Session
˘˘ 
[
˘˘ 
$str
˘˘ "
]
˘˘" #
==
˘˘$ &
null
˘˘' +
)
˘˘+ ,
return
˘˘- 3
RedirectToAction
˘˘4 D
(
˘˘D E
$str
˘˘E L
)
˘˘L M
;
˘˘M N
try
˙˙ 
{
˚˚ 
var
¸¸ 
yt
¸¸ 
=
¸¸ 
new
¸¸ 
YouTubeService
¸¸ +
(
¸¸+ ,
new
¸¸, /
BaseClientService
¸¸0 A
.
¸¸A B
Initializer
¸¸B M
(
¸¸M N
)
¸¸N O
{
¸¸P Q
ApiKey
¸¸R X
=
¸¸Y Z
$str¸¸[ Ñ
}¸¸Ö Ü
)¸¸Ü á
;¸¸á à
var
˝˝ !
channelsListRequest
˝˝ '
=
˝˝( )
yt
˝˝* ,
.
˝˝, -
Channels
˝˝- 5
.
˝˝5 6
List
˝˝6 :
(
˝˝: ;
$str
˝˝; K
)
˝˝K L
;
˝˝L M!
channelsListRequest
˛˛ #
.
˛˛# $
ForUsername
˛˛$ /
=
˛˛0 1
$str
˛˛2 ?
;
˛˛? @
var
ˇˇ "
channelsListResponse
ˇˇ (
=
ˇˇ) *!
channelsListRequest
ˇˇ+ >
.
ˇˇ> ?
Execute
ˇˇ? F
(
ˇˇF G
)
ˇˇG H
;
ˇˇH I
foreach
ÄÄ 
(
ÄÄ 
var
ÄÄ 
channel
ÄÄ $
in
ÄÄ% '"
channelsListResponse
ÄÄ( <
.
ÄÄ< =
Items
ÄÄ= B
)
ÄÄB C
{
ÅÅ 
var
ÉÉ 
uploadsListId
ÉÉ %
=
ÉÉ& '
channel
ÉÉ( /
.
ÉÉ/ 0
ContentDetails
ÉÉ0 >
.
ÉÉ> ?
RelatedPlaylists
ÉÉ? O
.
ÉÉO P
Uploads
ÉÉP W
;
ÉÉW X
var
ÑÑ 
nextPageToken
ÑÑ %
=
ÑÑ& '
$str
ÑÑ( *
;
ÑÑ* +
while
ÖÖ 
(
ÖÖ 
nextPageToken
ÖÖ (
!=
ÖÖ) +
null
ÖÖ, 0
)
ÖÖ0 1
{
ÜÜ 
var
áá &
playlistItemsListRequest
áá 4
=
áá5 6
yt
áá7 9
.
áá9 :
PlaylistItems
áá: G
.
ááG H
List
ááH L
(
ááL M
$str
ááM V
)
ááV W
;
ááW X&
playlistItemsListRequest
àà 0
.
àà0 1

PlaylistId
àà1 ;
=
àà< =
uploadsListId
àà> K
;
ààK L&
playlistItemsListRequest
ââ 0
.
ââ0 1

MaxResults
ââ1 ;
=
ââ< =
$num
ââ> @
;
ââ@ A&
playlistItemsListRequest
ää 0
.
ää0 1
	PageToken
ää1 :
=
ää; <
nextPageToken
ää= J
;
ääJ K
var
åå '
playlistItemsListResponse
åå 5
=
åå6 7&
playlistItemsListRequest
åå8 P
.
ååP Q
Execute
ååQ X
(
ååX Y
)
ååY Z
;
ååZ [
foreach
çç 
(
çç  !
var
çç! $
playlistItem
çç% 1
in
çç2 4'
playlistItemsListResponse
çç5 N
.
ççN O
Items
ççO T
)
ççT U
{
éé 
var
ëë 
qry
ëë  #
=
ëë$ %
(
ëë& '
from
ëë' +
s
ëë, -
in
ëë. 0
ObjEdbContext
ëë1 >
.
ëë> ?
ObjTubeDatas
ëë? K
where
ëëL Q
s
ëëR S
.
ëëS T
Title
ëëT Y
==
ëëZ \
playlistItem
ëë] i
.
ëëi j
Snippet
ëëj q
.
ëëq r
Title
ëër w
select
ëëx ~
sëë Ä
)ëëÄ Å
.ëëÅ Ç
FirstOrDefaultëëÇ ê
(ëëê ë
)ëëë í
;ëëí ì
if
íí 
(
íí  
qry
íí  #
==
íí$ &
null
íí' +
)
íí+ ,
{
ìì 
objYouTubeData
îî  .
.
îî. /
VideoId
îî/ 6
=
îî7 8
$str
îî9 Y
+
îîZ [
playlistItem
îî\ h
.
îîh i
Snippet
îîi p
.
îîp q

ResourceId
îîq {
.
îî{ |
VideoIdîî| É
;îîÉ Ñ
objYouTubeData
ïï  .
.
ïï. /
Title
ïï/ 4
=
ïï5 6
playlistItem
ïï7 C
.
ïïC D
Snippet
ïïD K
.
ïïK L
Title
ïïL Q
;
ïïQ R
objYouTubeData
ññ  .
.
ññ. /
Descriptions
ññ/ ;
=
ññ< =
playlistItem
ññ> J
.
ññJ K
Snippet
ññK R
.
ññR S
Description
ññS ^
;
ññ^ _
objYouTubeData
óó  .
.
óó. /
ImageUrl
óó/ 7
=
óó8 9
playlistItem
óó: F
.
óóF G
Snippet
óóG N
.
óóN O

Thumbnails
óóO Y
.
óóY Z
High
óóZ ^
.
óó^ _
Url
óó_ b
;
óób c
objYouTubeData
òò  .
.
òò. /
IsValid
òò/ 6
=
òò7 8
true
òò9 =
;
òò= >
ObjEdbContext
ôô  -
.
ôô- .
ObjTubeDatas
ôô. :
.
ôô: ;
Add
ôô; >
(
ôô> ?
objYouTubeData
ôô? M
)
ôôM N
;
ôôN O
ObjEdbContext
öö  -
.
öö- .
SaveChanges
öö. 9
(
öö9 :
)
öö: ;
;
öö; <

ModelState
õõ  *
.
õõ* +
Clear
õõ+ 0
(
õõ0 1
)
õõ1 2
;
õõ2 3
}
ùù 
}
ûû 
nextPageToken
üü %
=
üü& ''
playlistItemsListResponse
üü( A
.
üüA B
NextPageToken
üüB O
;
üüO P
}
†† 
}
°° 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
e
££ 
)
££ 
{
§§ 
ViewBag
•• 
.
•• 
ErrorMessage
•• $
=
••% &
$str
••' ?
+
••@ A
e
••B C
;
••C D
return
¶¶ 
RedirectToAction
¶¶ '
(
¶¶' (
$str
¶¶( 4
)
¶¶4 5
;
¶¶5 6
}
ßß 
return
©© 
RedirectToAction
©© #
(
©©# $
$str
©©$ 0
)
©©0 1
;
©©1 2
}
™™ 	
[
´´ 	
HttpPost
´´	 
]
´´ 
public
¨¨ 
ActionResult
¨¨ "
UpdateIsValidYouTube
¨¨ 0
(
¨¨0 1
int
¨¨1 4
[
¨¨4 5
]
¨¨5 6
	youTubeId
¨¨7 @
,
¨¨@ A
int
¨¨B E
[
¨¨E F
]
¨¨F G

youTubeId1
¨¨H R
)
¨¨R S
{
≠≠ 	
if
ÆÆ 
(
ÆÆ 
Session
ÆÆ 
[
ÆÆ 
$str
ÆÆ "
]
ÆÆ" #
==
ÆÆ$ &
null
ÆÆ' +
)
ÆÆ+ ,
return
ÆÆ- 3
RedirectToAction
ÆÆ4 D
(
ÆÆD E
$str
ÆÆE L
)
ÆÆL M
;
ÆÆM N
if
ØØ 
(
ØØ 
	youTubeId
ØØ 
==
ØØ 
null
ØØ !
&&
ØØ" $

youTubeId1
ØØ% /
==
ØØ0 2
null
ØØ3 7
)
ØØ7 8
return
ØØ9 ?
Json
ØØ@ D
(
ØØD E
$num
ØØE F
)
ØØF G
;
ØØG H
try
∞∞ 
{
±± 
if
≥≥ 
(
≥≥ 
	youTubeId
≥≥ 
!=
≥≥  
null
≥≥! %
)
≥≥% &
foreach
¥¥ 
(
¥¥ 
var
¥¥  
s
¥¥! "
in
¥¥# %
	youTubeId
¥¥& /
)
¥¥/ 0
{
µµ 
var
∂∂ 
qry
∂∂ 
=
∂∂  !
(
∂∂" #
from
∂∂# '
sa
∂∂( *
in
∂∂+ -
ObjEdbContext
∂∂. ;
.
∂∂; <
ObjTubeDatas
∂∂< H
where
∂∂I N
sa
∂∂O Q
.
∂∂Q R
YouTubeDataId
∂∂R _
==
∂∂` b
s
∂∂c d
select
∂∂e k
sa
∂∂l n
)
∂∂n o
.
∂∂o p
FirstOrDefault
∂∂p ~
(
∂∂~ 
)∂∂ Ä
;∂∂Ä Å
if
∑∑ 
(
∑∑ 
qry
∑∑ 
==
∑∑  "
null
∑∑# '
)
∑∑' (
return
∏∏ "
View
∏∏# '
(
∏∏' (
$str
∏∏( /
)
∏∏/ 0
;
∏∏0 1
qry
ππ 
.
ππ 
IsValid
ππ #
=
ππ$ %
true
ππ& *
;
ππ* +
if
∫∫ 
(
∫∫ 
!
∫∫ 
TryUpdateModel
∫∫ +
(
∫∫+ ,
qry
∫∫, /
,
∫∫/ 0
new
∫∫1 4
[
∫∫4 5
]
∫∫5 6
{
∫∫7 8
$str
∫∫9 B
}
∫∫C D
)
∫∫D E
)
∫∫E F
{
ªª 
}
ΩΩ 
ObjEdbContext
ææ %
.
ææ% &
SaveChanges
ææ& 1
(
ææ1 2
)
ææ2 3
;
ææ3 4

ModelState
øø "
.
øø" #
Clear
øø# (
(
øø( )
)
øø) *
;
øø* +
}
¿¿ 
foreach
¬¬ 
(
¬¬ 
var
¬¬ 
s1
¬¬ 
in
¬¬  "

youTubeId1
¬¬# -
)
¬¬- .
{
√√ 
var
ƒƒ 
qry1
ƒƒ 
=
ƒƒ 
(
ƒƒ  
from
ƒƒ  $
sa1
ƒƒ% (
in
ƒƒ) +
ObjEdbContext
ƒƒ, 9
.
ƒƒ9 :
ObjTubeDatas
ƒƒ: F
where
ƒƒG L
sa1
ƒƒM P
.
ƒƒP Q
YouTubeDataId
ƒƒQ ^
==
ƒƒ_ a
s1
ƒƒb d
select
ƒƒe k
sa1
ƒƒl o
)
ƒƒo p
.
ƒƒp q
FirstOrDefault
ƒƒq 
(ƒƒ Ä
)ƒƒÄ Å
;ƒƒÅ Ç
if
≈≈ 
(
≈≈ 
qry1
≈≈ 
==
≈≈ 
null
≈≈  $
)
≈≈$ %
return
∆∆ 
View
∆∆ #
(
∆∆# $
$str
∆∆$ +
)
∆∆+ ,
;
∆∆, -
qry1
«« 
.
«« 
IsValid
««  
=
««! "
false
««# (
;
««( )
if
»» 
(
»» 
!
»» 
TryUpdateModel
»» '
(
»»' (
qry1
»»( ,
,
»», -
new
»». 1
[
»»1 2
]
»»2 3
{
»»4 5
$str
»»6 ?
}
»»@ A
)
»»A B
)
»»B C
{
…… 
}
ÀÀ 
ObjEdbContext
ÃÃ !
.
ÃÃ! "
SaveChanges
ÃÃ" -
(
ÃÃ- .
)
ÃÃ. /
;
ÃÃ/ 0

ModelState
ÕÕ 
.
ÕÕ 
Clear
ÕÕ $
(
ÕÕ$ %
)
ÕÕ% &
;
ÕÕ& '
}
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
)
–– 
{
—— 
return
““ 
Json
““ 
(
““ 
$num
““ 
)
““ 
;
““ 
}
”” 
return
‘‘ 
Json
‘‘ 
(
‘‘ 
$num
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 	
public
÷÷ 
ActionResult
÷÷ 
ViewBlog
÷÷ $
(
÷÷$ %
)
÷÷% &
{
◊◊ 	
if
ÿÿ 
(
ÿÿ 
Session
ÿÿ 
[
ÿÿ 
$str
ÿÿ "
]
ÿÿ" #
==
ÿÿ$ &
null
ÿÿ' +
)
ÿÿ+ ,
return
ÿÿ- 3
RedirectToAction
ÿÿ4 D
(
ÿÿD E
$str
ÿÿE L
)
ÿÿL M
;
ÿÿM N
ViewData
ŸŸ 
[
ŸŸ 
$str
ŸŸ 
]
ŸŸ 
=
ŸŸ 
ObjEdbContext
ŸŸ ,
.
ŸŸ, -
Objblog
ŸŸ- 4
.
ŸŸ4 5
OrderByDescending
ŸŸ5 F
(
ŸŸF G
x
ŸŸG H
=>
ŸŸI K
x
ŸŸL M
.
ŸŸM N
PostedOn
ŸŸN V
)
ŸŸV W
.
ŸŸW X
ToList
ŸŸX ^
(
ŸŸ^ _
)
ŸŸ_ `
;
ŸŸ` a
return
⁄⁄ 
View
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
}
€€ 	
public
ﬁﬁ 
ActionResult
ﬁﬁ 

DetailBlog
ﬁﬁ &
(
ﬁﬁ& '
int
ﬁﬁ' *
id
ﬁﬁ+ -
)
ﬁﬁ- .
{
ﬂﬂ 	
try
‡‡ 
{
·· 
if
‚‚ 
(
‚‚ 
Session
‚‚ 
[
‚‚ 
$str
‚‚ &
]
‚‚& '
==
‚‚( *
null
‚‚+ /
)
‚‚/ 0
return
‚‚1 7
RedirectToAction
‚‚8 H
(
‚‚H I
$str
‚‚I P
)
‚‚P Q
;
‚‚Q R
var
„„ 
blog
„„ 
=
„„ 
ObjEdbContext
„„ (
.
„„( )
Objblog
„„) 0
.
„„0 1
Find
„„1 5
(
„„5 6
id
„„6 8
)
„„8 9
;
„„9 :
ViewData
‰‰ 
[
‰‰ 
$str
‰‰ #
]
‰‰# $
=
‰‰% &
blog
‰‰' +
as
‰‰, .
BlogPost
‰‰/ 7
;
‰‰7 8
if
ÂÂ 
(
ÂÂ 
blog
ÂÂ 
==
ÂÂ 
null
ÂÂ  
)
ÂÂ  !
{
ÊÊ 
return
ÁÁ 
HttpNotFound
ÁÁ '
(
ÁÁ' (
)
ÁÁ( )
;
ÁÁ) *
}
ËË 
return
ÈÈ 
View
ÈÈ 
(
ÈÈ 
blog
ÈÈ  
)
ÈÈ  !
;
ÈÈ! "
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
e
ÎÎ 
)
ÎÎ 
{
ÏÏ 
ViewBag
ÌÌ 
.
ÌÌ 
ErrorMessage
ÌÌ $
=
ÌÌ% &
$str
ÌÌ' ?
+
ÌÌ@ A
e
ÌÌB C
;
ÌÌC D
return
ÓÓ 
RedirectToAction
ÓÓ '
(
ÓÓ' (
$str
ÓÓ( 2
)
ÓÓ2 3
;
ÓÓ3 4
}
ÔÔ 
}
 	
public
ÒÒ 
ActionResult
ÒÒ 

CreateBlog
ÒÒ &
(
ÒÒ& '
)
ÒÒ' (
{
ÚÚ 	
if
ÛÛ 
(
ÛÛ 
Session
ÛÛ 
[
ÛÛ 
$str
ÛÛ "
]
ÛÛ" #
==
ÛÛ$ &
null
ÛÛ' +
)
ÛÛ+ ,
return
ÛÛ- 3
RedirectToAction
ÛÛ4 D
(
ÛÛD E
$str
ÛÛE L
)
ÛÛL M
;
ÛÛM N
return
ÙÙ 
View
ÙÙ 
(
ÙÙ 
)
ÙÙ 
;
ÙÙ 
}
ıı 	
[
ˆˆ 	&
ValidateAntiForgeryToken
ˆˆ	 !
]
ˆˆ! "
[
˜˜ 	
HttpPost
˜˜	 
]
˜˜ 
public
¯¯ 
ActionResult
¯¯ 

CreateBlog
¯¯ &
(
¯¯& '
BlogPost
¯¯' /
model
¯¯0 5
,
¯¯5 6 
HttpPostedFileBase
¯¯7 I
file
¯¯J N
)
¯¯N O
{
˘˘ 	
if
˙˙ 
(
˙˙ 
Session
˙˙ 
[
˙˙ 
$str
˙˙ "
]
˙˙" #
==
˙˙$ &
null
˙˙' +
)
˙˙+ ,
return
˙˙- 3
RedirectToAction
˙˙4 D
(
˙˙D E
$str
˙˙E L
)
˙˙L M
;
˙˙M N
try
˚˚ 
{
¸¸ 
var
˝˝ 
	imagePath
˝˝ 
=
˝˝ 
$str
˝˝  "
;
˝˝" #
if
˛˛ 
(
˛˛ 
file
˛˛ 
!=
˛˛ 
null
˛˛  
&&
˛˛! #
file
˛˛$ (
.
˛˛( )
ContentLength
˛˛) 6
>
˛˛7 8
$num
˛˛9 :
)
˛˛: ;
{
ˇˇ 
if
ÄÄ 
(
ÄÄ 
file
ÄÄ 
.
ÄÄ 
FileName
ÄÄ %
!=
ÄÄ& (
null
ÄÄ) -
)
ÄÄ- .
{
ÅÅ 
var
ÇÇ 
path
ÇÇ  
=
ÇÇ! "
Path
ÇÇ# '
.
ÇÇ' (
Combine
ÇÇ( /
(
ÇÇ/ 0
Server
ÇÇ0 6
.
ÇÇ6 7
MapPath
ÇÇ7 >
(
ÇÇ> ?
$str
ÇÇ? V
)
ÇÇV W
,
ÇÇW X
Path
ÇÇY ]
.
ÇÇ] ^
GetFileName
ÇÇ^ i
(
ÇÇi j
file
ÇÇj n
.
ÇÇn o
FileName
ÇÇo w
)
ÇÇw x
)
ÇÇx y
;
ÇÇy z
	imagePath
ÉÉ !
=
ÉÉ" #
System
ÉÉ$ *
.
ÉÉ* +
Web
ÉÉ+ .
.
ÉÉ. /
HttpContext
ÉÉ/ :
.
ÉÉ: ;
Current
ÉÉ; B
.
ÉÉB C
Request
ÉÉC J
.
ÉÉJ K
Url
ÉÉK N
.
ÉÉN O
GetLeftPart
ÉÉO Z
(
ÉÉZ [

UriPartial
ÉÉ[ e
.
ÉÉe f
	Authority
ÉÉf o
)
ÉÉo p
+
ÉÉq r
$strÉÉs ä
+ÉÉã å
fileÉÉç ë
.ÉÉë í
FileNameÉÉí ö
;ÉÉö õ
file
ÑÑ 
.
ÑÑ 
SaveAs
ÑÑ #
(
ÑÑ# $
path
ÑÑ$ (
)
ÑÑ( )
;
ÑÑ) *
ViewBag
ÖÖ 
.
ÖÖ  
	ImagePath
ÖÖ  )
=
ÖÖ* +
	imagePath
ÖÖ, 5
;
ÖÖ5 6
}
ÜÜ 
model
àà 
.
àà 
PostedOn
àà "
=
àà# $
DateTime
àà% -
.
àà- .
Now
àà. 1
;
àà1 2
model
ââ 
.
ââ 
ImageUrl
ââ "
=
ââ# $
	imagePath
ââ% .
;
ââ. /
model
ää 
.
ää 

IsSelected
ää $
=
ää% &
true
ää' +
;
ää+ ,
ObjEdbContext
ãã !
.
ãã! "
Objblog
ãã" )
.
ãã) *
Add
ãã* -
(
ãã- .
model
ãã. 3
)
ãã3 4
;
ãã4 5
ObjEdbContext
åå !
.
åå! "
SaveChanges
åå" -
(
åå- .
)
åå. /
;
åå/ 0

ModelState
çç 
.
çç 
Clear
çç $
(
çç$ %
)
çç% &
;
çç& '
ViewBag
éé 
.
éé 
HtmlContent
éé '
=
éé( )
model
éé* /
.
éé/ 0
Content
éé0 7
;
éé7 8
return
êê 
View
êê 
(
êê  
model
êê  %
)
êê% &
;
êê& '
}
ëë 
else
íí 
{
ìì 
model
îî 
.
îî 
PostedOn
îî "
=
îî# $
DateTime
îî% -
.
îî- .
Now
îî. 1
;
îî1 2
model
ïï 
.
ïï 
ImageUrl
ïï "
=
ïï# $
	imagePath
ïï% .
;
ïï. /
model
ññ 
.
ññ 

IsSelected
ññ $
=
ññ% &
true
ññ' +
;
ññ+ ,
ObjEdbContext
óó !
.
óó! "
Objblog
óó" )
.
óó) *
Add
óó* -
(
óó- .
model
óó. 3
)
óó3 4
;
óó4 5
ObjEdbContext
òò !
.
òò! "
SaveChanges
òò" -
(
òò- .
)
òò. /
;
òò/ 0

ModelState
ôô 
.
ôô 
Clear
ôô $
(
ôô$ %
)
ôô% &
;
ôô& '
}
öö 
ViewBag
õõ 
.
õõ 
HtmlContent
õõ #
=
õõ$ %
model
õõ& +
.
õõ+ ,
Content
õõ, 3
;
õõ3 4
return
ùù 
View
ùù 
(
ùù 
model
ùù !
)
ùù! "
;
ùù" #
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
e
üü 
)
üü 
{
†† 
ViewBag
°° 
.
°° 
ErrorMessage
°° $
=
°°% &
$str
°°' ?
+
°°@ A
e
°°B C
;
°°C D
return
¢¢ 
View
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
}
§§ 
}
•• 	
public
¶¶ 
ActionResult
¶¶ 

UpdateBlog
¶¶ &
(
¶¶& '
int
¶¶' *
id
¶¶+ -
)
¶¶- .
{
ßß 	
try
®® 
{
©© 
if
™™ 
(
™™ 
Session
™™ 
[
™™ 
$str
™™ &
]
™™& '
==
™™( *
null
™™+ /
)
™™/ 0
return
™™1 7
RedirectToAction
™™8 H
(
™™H I
$str
™™I P
)
™™P Q
;
™™Q R
var
´´ 
blog
´´ 
=
´´ 
ObjEdbContext
´´ (
.
´´( )
Objblog
´´) 0
.
´´0 1
Find
´´1 5
(
´´5 6
id
´´6 8
)
´´8 9
;
´´9 :
if
¨¨ 
(
¨¨ 
blog
¨¨ 
==
¨¨ 
null
¨¨  
)
¨¨  !
{
≠≠ 
return
ÆÆ 
RedirectToAction
ÆÆ +
(
ÆÆ+ ,
$str
ÆÆ, 6
)
ÆÆ6 7
;
ÆÆ7 8
}
ØØ 
return
∞∞ 
View
∞∞ 
(
∞∞ 
blog
∞∞  
)
∞∞  !
;
∞∞! "
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
e
≤≤ 
)
≤≤ 
{
≥≥ 
ViewBag
¥¥ 
.
¥¥ 
ErrorMessage
¥¥ $
=
¥¥% &
$str
¥¥' ?
+
¥¥@ A
e
¥¥B C
;
¥¥C D
return
µµ 
RedirectToAction
µµ '
(
µµ' (
$str
µµ( 2
)
µµ2 3
;
µµ3 4
}
∂∂ 
}
∑∑ 	
[
∏∏ 	&
ValidateAntiForgeryToken
∏∏	 !
]
∏∏! "
[
ππ 	
HttpPost
ππ	 
]
ππ 
public
∫∫ 
ActionResult
∫∫ 

UpdateBlog
∫∫ &
(
∫∫& '
BlogPost
∫∫' /
model
∫∫0 5
)
∫∫5 6
{
ªª 	
try
ºº 
{
ΩΩ 
if
ææ 
(
ææ 
Session
ææ 
[
ææ 
$str
ææ &
]
ææ& '
==
ææ( *
null
ææ+ /
)
ææ/ 0
return
ææ1 7
RedirectToAction
ææ8 H
(
ææH I
$str
ææI P
)
ææP Q
;
ææQ R
if
øø 
(
øø 
!
øø 

ModelState
øø 
.
øø  
IsValid
øø  '
)
øø' (
return
¿¿ 
View
¿¿ 
(
¿¿  
$str
¿¿  '
)
¿¿' (
;
¿¿( )
model
¡¡ 
.
¡¡ 
PostedOn
¡¡ 
=
¡¡  
DateTime
¡¡! )
.
¡¡) *
Now
¡¡* -
;
¡¡- .
ObjEdbContext
¬¬ 
.
¬¬ 
Entry
¬¬ #
(
¬¬# $
model
¬¬$ )
)
¬¬) *
.
¬¬* +
State
¬¬+ 0
=
¬¬1 2
EntityState
¬¬3 >
.
¬¬> ?
Modified
¬¬? G
;
¬¬G H
ObjEdbContext
√√ 
.
√√ 
Objblog
√√ %
.
√√% &
AddOrUpdate
√√& 1
(
√√1 2
model
√√2 7
)
√√7 8
;
√√8 9
ObjEdbContext
ƒƒ 
.
ƒƒ 
SaveChanges
ƒƒ )
(
ƒƒ) *
)
ƒƒ* +
;
ƒƒ+ ,

ModelState
≈≈ 
.
≈≈ 
Clear
≈≈  
(
≈≈  !
)
≈≈! "
;
≈≈" #
ViewBag
∆∆ 
.
∆∆ 
successMessage
∆∆ &
=
∆∆' (
$str
∆∆) N
;
∆∆N O
return
«« 
RedirectToAction
«« '
(
««' (
$str
««( 2
)
««2 3
;
««3 4
}
»» 
catch
…… 
(
…… 
	Exception
…… 
e
…… 
)
…… 
{
   
ViewBag
ÀÀ 
.
ÀÀ 
ErrorMessage
ÀÀ $
=
ÀÀ% &
$str
ÀÀ' ?
+
ÀÀ@ A
e
ÀÀB C
;
ÀÀC D
return
ÃÃ 
View
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 
}
ŒŒ 	
public
œœ 
ActionResult
œœ 

DeleteBlog
œœ &
(
œœ& '
int
œœ' *
id
œœ+ -
)
œœ- .
{
–– 	
if
—— 
(
—— 
Session
—— 
[
—— 
$str
—— "
]
——" #
==
——$ &
null
——' +
)
——+ ,
return
——- 3
RedirectToAction
——4 D
(
——D E
$str
——E L
)
——L M
;
——M N
try
““ 
{
”” 
var
‘‘ 
blog
‘‘ 
=
‘‘ 
ObjEdbContext
‘‘ (
.
‘‘( )
Objblog
‘‘) 0
.
‘‘0 1
Find
‘‘1 5
(
‘‘5 6
id
‘‘6 8
)
‘‘8 9
;
‘‘9 :
ObjEdbContext
’’ 
.
’’ 
Objblog
’’ %
.
’’% &
Remove
’’& ,
(
’’, -
blog
’’- 1
)
’’1 2
;
’’2 3
ObjEdbContext
÷÷ 
.
÷÷ 
SaveChanges
÷÷ )
(
÷÷) *
)
÷÷* +
;
÷÷+ ,
return
◊◊ 
RedirectToAction
◊◊ '
(
◊◊' (
$str
◊◊( 2
)
◊◊2 3
;
◊◊3 4
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
e
ŸŸ 
)
ŸŸ 
{
⁄⁄ 
ViewBag
€€ 
.
€€ 
ErrorMessage
€€ $
=
€€% &
$str
€€' ?
+
€€@ A
e
€€B C
;
€€C D
return
‹‹ 
RedirectToAction
‹‹ '
(
‹‹' (
$str
‹‹( 2
)
‹‹2 3
;
‹‹3 4
}
›› 
}
ﬂﬂ 	
[
‡‡ 	
HttpPost
‡‡	 
]
‡‡ 
public
·· 
ActionResult
·· 
UpdateBlogIsValid
·· -
(
··- .
int
··. 1
[
··1 2
]
··2 3
blogData
··4 <
,
··< =
int
··> A
[
··A B
]
··B C
	blogData1
··D M
)
··M N
{
‚‚ 	
if
„„ 
(
„„ 
Session
„„ 
[
„„ 
$str
„„ "
]
„„" #
==
„„$ &
null
„„' +
)
„„+ ,
return
„„- 3
RedirectToAction
„„4 D
(
„„D E
$str
„„E L
)
„„L M
;
„„M N
if
‰‰ 
(
‰‰ 
blogData
‰‰ 
!=
‰‰ 
null
‰‰  
||
‰‰! #
	blogData1
‰‰$ -
!=
‰‰. 0
null
‰‰1 5
)
‰‰5 6
{
ÂÂ 
try
ÊÊ 
{
ÁÁ 
if
ÈÈ 
(
ÈÈ 
blogData
ÈÈ  
!=
ÈÈ! #
null
ÈÈ$ (
)
ÈÈ( )
foreach
ÍÍ 
(
ÍÍ  !
var
ÍÍ! $
s
ÍÍ% &
in
ÍÍ' )
blogData
ÍÍ* 2
)
ÍÍ2 3
{
ÎÎ 
var
ÏÏ 
qry
ÏÏ  #
=
ÏÏ$ %
(
ÏÏ& '
from
ÏÏ' +
sa
ÏÏ, .
in
ÏÏ/ 1
ObjEdbContext
ÏÏ2 ?
.
ÏÏ? @
Objblog
ÏÏ@ G
where
ÏÏH M
sa
ÏÏN P
.
ÏÏP Q

BlogPostId
ÏÏQ [
==
ÏÏ\ ^
s
ÏÏ_ `
select
ÏÏa g
sa
ÏÏh j
)
ÏÏj k
.
ÏÏk l
FirstOrDefault
ÏÏl z
(
ÏÏz {
)
ÏÏ{ |
;
ÏÏ| }
if
ÌÌ 
(
ÌÌ  
qry
ÌÌ  #
==
ÌÌ$ &
null
ÌÌ' +
)
ÌÌ+ ,
return
ÓÓ  &
RedirectToAction
ÓÓ' 7
(
ÓÓ7 8
$str
ÓÓ8 B
)
ÓÓB C
;
ÓÓC D
qry
ÔÔ 
.
ÔÔ  

IsSelected
ÔÔ  *
=
ÔÔ+ ,
true
ÔÔ- 1
;
ÔÔ1 2
if
 
(
  
!
  !
TryUpdateModel
! /
(
/ 0
qry
0 3
,
3 4
new
5 8
[
8 9
]
9 :
{
; <
$str
= I
}
J K
)
K L
)
L M
{
ÒÒ 
}
ÛÛ 
ObjEdbContext
ÙÙ )
.
ÙÙ) *
SaveChanges
ÙÙ* 5
(
ÙÙ5 6
)
ÙÙ6 7
;
ÙÙ7 8

ModelState
ıı &
.
ıı& '
Clear
ıı' ,
(
ıı, -
)
ıı- .
;
ıı. /
}
ˆˆ 
foreach
¯¯ 
(
¯¯ 
var
¯¯  
s1
¯¯! #
in
¯¯$ &
	blogData1
¯¯' 0
)
¯¯0 1
{
˘˘ 
var
˙˙ 
qry1
˙˙  
=
˙˙! "
(
˙˙# $
from
˙˙$ (
sa1
˙˙) ,
in
˙˙- /
ObjEdbContext
˙˙0 =
.
˙˙= >
Objblog
˙˙> E
where
˙˙F K
sa1
˙˙L O
.
˙˙O P

BlogPostId
˙˙P Z
==
˙˙[ ]
s1
˙˙^ `
select
˙˙a g
sa1
˙˙h k
)
˙˙k l
.
˙˙l m
FirstOrDefault
˙˙m {
(
˙˙{ |
)
˙˙| }
;
˙˙} ~
if
˚˚ 
(
˚˚ 
qry1
˚˚  
==
˚˚! #
null
˚˚$ (
)
˚˚( )
return
¸¸ "
RedirectToAction
¸¸# 3
(
¸¸3 4
$str
¸¸4 >
)
¸¸> ?
;
¸¸? @
qry1
˝˝ 
.
˝˝ 

IsSelected
˝˝ '
=
˝˝( )
false
˝˝* /
;
˝˝/ 0
if
˛˛ 
(
˛˛ 
!
˛˛ 
TryUpdateModel
˛˛ +
(
˛˛+ ,
qry1
˛˛, 0
,
˛˛0 1
new
˛˛2 5
[
˛˛5 6
]
˛˛6 7
{
˛˛8 9
$str
˛˛: F
}
˛˛G H
)
˛˛H I
)
˛˛I J
{
ˇˇ 
}
ÅÅ 
ObjEdbContext
ÇÇ %
.
ÇÇ% &
SaveChanges
ÇÇ& 1
(
ÇÇ1 2
)
ÇÇ2 3
;
ÇÇ3 4

ModelState
ÉÉ "
.
ÉÉ" #
Clear
ÉÉ# (
(
ÉÉ( )
)
ÉÉ) *
;
ÉÉ* +
}
ÑÑ 
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ  
)
ÜÜ  !
{
áá 
return
àà 
Json
àà 
(
àà  
$num
àà  !
)
àà! "
;
àà" #
}
ââ 
return
ää 
Json
ää 
(
ää 
$num
ää 
)
ää 
;
ää 
}
ãã 
return
åå 
Json
åå 
(
åå 
$num
åå 
)
åå 
;
åå 
}
çç 	
public
éé 
ActionResult
éé 
RegisterUser
éé (
(
éé( )
)
éé) *
{
èè 	
if
êê 
(
êê 
Session
êê 
[
êê 
$str
êê "
]
êê" #
==
êê$ &
null
êê' +
)
êê+ ,
return
êê- 3
RedirectToAction
êê4 D
(
êêD E
$str
êêE L
)
êêL M
;
êêM N
return
ëë 
View
ëë 
(
ëë 
ObjEdbContext
ëë %
.
ëë% &"
ObjRegistrationUsers
ëë& :
.
ëë: ;
ToList
ëë; A
(
ëëA B
)
ëëB C
)
ëëC D
;
ëëD E
}
íí 	
public
ìì 
ActionResult
ìì 

ExportData
ìì &
(
ìì& '
)
ìì' (
{
îî 	
if
ïï 
(
ïï 
Session
ïï 
[
ïï 
$str
ïï "
]
ïï" #
==
ïï$ &
null
ïï' +
)
ïï+ ,
return
ïï- 3
RedirectToAction
ïï4 D
(
ïïD E
$str
ïïE L
)
ïïL M
;
ïïM N
var
ññ 
gv
ññ 
=
ññ 
new
ññ 
GridView
ññ !
{
ññ" #

DataSource
ññ$ .
=
ññ/ 0
ObjEdbContext
ññ1 >
.
ññ> ?"
ObjRegistrationUsers
ññ? S
.
ññS T
ToList
ññT Z
(
ññZ [
)
ññ[ \
}
ññ] ^
;
ññ^ _
gv
óó 
.
óó 
DataBind
óó 
(
óó 
)
óó 
;
óó 
Response
òò 
.
òò 
ClearContent
òò !
(
òò! "
)
òò" #
;
òò# $
Response
ôô 
.
ôô 
Buffer
ôô 
=
ôô 
true
ôô "
;
ôô" #
Response
öö 
.
öö 
	AddHeader
öö 
(
öö 
$str
öö 4
,
öö4 5
$str
öö6 a
)
ööa b
;
ööb c
Response
õõ 
.
õõ 
ContentType
õõ  
=
õõ! "
$str
õõ# 9
;
õõ9 :
Response
úú 
.
úú 
Charset
úú 
=
úú 
$str
úú !
;
úú! "
var
ùù 
sw
ùù 
=
ùù 
new
ùù 
StringWriter
ùù %
(
ùù% &
)
ùù& '
;
ùù' (
var
ûû 
htw
ûû 
=
ûû 
new
ûû 
HtmlTextWriter
ûû (
(
ûû( )
sw
ûû) +
)
ûû+ ,
;
ûû, -
gv
üü 
.
üü 
RenderControl
üü 
(
üü 
htw
üü  
)
üü  !
;
üü! "
Response
†† 
.
†† 
Output
†† 
.
†† 
Write
†† !
(
††! "
sw
††" $
.
††$ %
ToString
††% -
(
††- .
)
††. /
)
††/ 0
;
††0 1
Response
°° 
.
°° 
Flush
°° 
(
°° 
)
°° 
;
°° 
Response
¢¢ 
.
¢¢ 
End
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
return
§§ 
RedirectToAction
§§ #
(
§§# $
$str
§§$ 2
)
§§2 3
;
§§3 4
}
•• 	
public
ßß 
ActionResult
ßß !
ExportDataIpAddress
ßß /
(
ßß/ 0
)
ßß0 1
{
®® 	
if
©© 
(
©© 
Session
©© 
[
©© 
$str
©© "
]
©©" #
==
©©$ &
null
©©' +
)
©©+ ,
return
©©- 3
RedirectToAction
©©4 D
(
©©D E
$str
©©E L
)
©©L M
;
©©M N
var
™™ 
gv
™™ 
=
™™ 
new
™™ 
GridView
™™ !
{
™™" #

DataSource
™™$ .
=
™™/ 0
ObjEdbContext
™™1 >
.
™™> ?
ObjiIpDetails
™™? L
.
™™L M
ToList
™™M S
(
™™S T
)
™™T U
}
™™V W
;
™™W X
gv
´´ 
.
´´ 
DataBind
´´ 
(
´´ 
)
´´ 
;
´´ 
Response
¨¨ 
.
¨¨ 
ClearContent
¨¨ !
(
¨¨! "
)
¨¨" #
;
¨¨# $
Response
≠≠ 
.
≠≠ 
Buffer
≠≠ 
=
≠≠ 
true
≠≠ "
;
≠≠" #
Response
ÆÆ 
.
ÆÆ 
	AddHeader
ÆÆ 
(
ÆÆ 
$str
ÆÆ 4
,
ÆÆ4 5
$str
ÆÆ6 a
)
ÆÆa b
;
ÆÆb c
Response
ØØ 
.
ØØ 
ContentType
ØØ  
=
ØØ! "
$str
ØØ# 9
;
ØØ9 :
Response
∞∞ 
.
∞∞ 
Charset
∞∞ 
=
∞∞ 
$str
∞∞ !
;
∞∞! "
var
±± 
sw
±± 
=
±± 
new
±± 
StringWriter
±± %
(
±±% &
)
±±& '
;
±±' (
var
≤≤ 
htw
≤≤ 
=
≤≤ 
new
≤≤ 
HtmlTextWriter
≤≤ (
(
≤≤( )
sw
≤≤) +
)
≤≤+ ,
;
≤≤, -
gv
≥≥ 
.
≥≥ 
RenderControl
≥≥ 
(
≥≥ 
htw
≥≥  
)
≥≥  !
;
≥≥! "
Response
¥¥ 
.
¥¥ 
Output
¥¥ 
.
¥¥ 
Write
¥¥ !
(
¥¥! "
sw
¥¥" $
.
¥¥$ %
ToString
¥¥% -
(
¥¥- .
)
¥¥. /
)
¥¥/ 0
;
¥¥0 1
Response
µµ 
.
µµ 
Flush
µµ 
(
µµ 
)
µµ 
;
µµ 
Response
∂∂ 
.
∂∂ 
End
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
return
∏∏ 
RedirectToAction
∏∏ #
(
∏∏# $
$str
∏∏$ 2
)
∏∏2 3
;
∏∏3 4
}
ππ 	
public
∫∫ 
ActionResult
∫∫ 
GetIpAddress
∫∫ (
(
∫∫( )
)
∫∫) *
{
ªª 	
if
ºº 
(
ºº 
Session
ºº 
[
ºº 
$str
ºº "
]
ºº" #
==
ºº$ &
null
ºº' +
)
ºº+ ,
return
ºº- 3
RedirectToAction
ºº4 D
(
ººD E
$str
ººE L
)
ººL M
;
ººM N
return
ΩΩ 
View
ΩΩ 
(
ΩΩ 
ObjEdbContext
ΩΩ %
.
ΩΩ% &
ObjiIpDetails
ΩΩ& 3
.
ΩΩ3 4
OrderByDescending
ΩΩ4 E
(
ΩΩE F
s
ΩΩF G
=>
ΩΩH J
s
ΩΩK L
.
ΩΩL M
DateTime
ΩΩM U
)
ΩΩU V
.
ΩΩV W
ToList
ΩΩW ]
(
ΩΩ] ^
)
ΩΩ^ _
)
ΩΩ_ `
;
ΩΩ` a
}
ææ 	
[
øø 	
HttpPost
øø	 
]
øø 
public
¿¿ 
ActionResult
¿¿ 
BlocIpAddress
¿¿ )
(
¿¿) *
string
¿¿* 0
[
¿¿0 1
]
¿¿1 2
ckeckipData
¿¿3 >
)
¿¿> ?
{
¡¡ 	
if
¬¬ 
(
¬¬ 
ckeckipData
¬¬ 
==
¬¬ 
null
¬¬ #
)
¬¬# $
return
¬¬% +
Json
¬¬, 0
(
¬¬0 1
$num
¬¬1 2
)
¬¬2 3
;
¬¬3 4
try
√√ 
{
ƒƒ 
foreach
∆∆ 
(
∆∆ 
var
∆∆ 
s
∆∆ 
in
∆∆ !
ckeckipData
∆∆" -
)
∆∆- .
{
«« 
var
»» 
qry
»» 
=
»» 
(
»» 
from
»» #
sa
»»$ &
in
»»' )
ObjEdbContext
»»* 7
.
»»7 8
ObjiIpDetails
»»8 E
where
»»F K
sa
»»L N
.
»»N O
PublicIp
»»O W
==
»»X Z
s
»»[ \
select
»»] c
sa
»»d f
)
»»f g
.
»»g h
ToList
»»h n
(
»»n o
)
»»o p
;
»»p q
foreach
…… 
(
…… 
var
……  
ip
……! #
in
……$ &
qry
……' *
)
……* +
{
   
ip
ÀÀ 
.
ÀÀ 
IsBlock
ÀÀ "
=
ÀÀ# $
true
ÀÀ% )
;
ÀÀ) *
if
ÃÃ 
(
ÃÃ 
!
ÃÃ 
TryUpdateModel
ÃÃ +
(
ÃÃ+ ,
qry
ÃÃ, /
,
ÃÃ/ 0
new
ÃÃ1 4
[
ÃÃ4 5
]
ÃÃ5 6
{
ÃÃ7 8
$str
ÃÃ9 B
}
ÃÃC D
)
ÃÃD E
)
ÃÃE F
{
ÕÕ 
}
œœ 
ObjEdbContext
–– %
.
––% &
SaveChanges
––& 1
(
––1 2
)
––2 3
;
––3 4

ModelState
—— "
.
——" #
Clear
——# (
(
——( )
)
——) *
;
——* +
}
““ 
}
”” 
return
‘‘ 
Json
‘‘ 
(
‘‘ 
$num
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
)
÷÷ 
{
◊◊ 
return
ÿÿ 
Json
ÿÿ 
(
ÿÿ 
$num
ÿÿ 
)
ÿÿ 
;
ÿÿ 
}
ŸŸ 
return
⁄⁄ 
Json
⁄⁄ 
(
⁄⁄ 
$num
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
}
€€ 	
[
‹‹ 	
HttpPost
‹‹	 
]
‹‹ 
public
›› 
ActionResult
›› 
UnBlockIpAddress
›› ,
(
››, -
string
››- 3
[
››3 4
]
››4 5
uncheckipData1
››6 D
)
››D E
{
ﬁﬁ 	
if
ﬂﬂ 
(
ﬂﬂ 
Session
ﬂﬂ 
[
ﬂﬂ 
$str
ﬂﬂ "
]
ﬂﬂ" #
==
ﬂﬂ$ &
null
ﬂﬂ' +
)
ﬂﬂ+ ,
return
ﬂﬂ- 3
RedirectToAction
ﬂﬂ4 D
(
ﬂﬂD E
$str
ﬂﬂE L
)
ﬂﬂL M
;
ﬂﬂM N
try
‡‡ 
{
·· 
if
‚‚ 
(
‚‚ 
uncheckipData1
‚‚ "
!=
‚‚# %
null
‚‚& *
)
‚‚* +
{
„„ 
foreach
‰‰ 
(
‰‰ 
var
‰‰  
s1
‰‰! #
in
‰‰$ &
uncheckipData1
‰‰' 5
)
‰‰5 6
{
ÂÂ 
var
ÊÊ 
qry1
ÊÊ  
=
ÊÊ! "
(
ÊÊ# $
from
ÊÊ$ (
sa1
ÊÊ) ,
in
ÊÊ- /
ObjEdbContext
ÊÊ0 =
.
ÊÊ= >
ObjiIpDetails
ÊÊ> K
where
ÊÊL Q
sa1
ÊÊR U
.
ÊÊU V
PublicIp
ÊÊV ^
==
ÊÊ_ a
s1
ÊÊb d
select
ÊÊe k
sa1
ÊÊl o
)
ÊÊo p
.
ÊÊp q
ToList
ÊÊq w
(
ÊÊw x
)
ÊÊx y
;
ÊÊy z
foreach
ÁÁ 
(
ÁÁ  !
var
ÁÁ! $
ipDetail
ÁÁ% -
in
ÁÁ. 0
qry1
ÁÁ1 5
)
ÁÁ5 6
{
ËË 
ipDetail
ÈÈ $
.
ÈÈ$ %
IsBlock
ÈÈ% ,
=
ÈÈ- .
false
ÈÈ/ 4
;
ÈÈ4 5
if
ÍÍ 
(
ÍÍ  
!
ÍÍ  !
TryUpdateModel
ÍÍ! /
(
ÍÍ/ 0
qry1
ÍÍ0 4
,
ÍÍ4 5
new
ÍÍ6 9
[
ÍÍ9 :
]
ÍÍ: ;
{
ÍÍ< =
$str
ÍÍ> G
}
ÍÍH I
)
ÍÍI J
)
ÍÍJ K
{
ÎÎ 
}
ÌÌ 
ObjEdbContext
ÓÓ )
.
ÓÓ) *
SaveChanges
ÓÓ* 5
(
ÓÓ5 6
)
ÓÓ6 7
;
ÓÓ7 8

ModelState
ÔÔ &
.
ÔÔ& '
Clear
ÔÔ' ,
(
ÔÔ, -
)
ÔÔ- .
;
ÔÔ. /
}
 
}
ÚÚ 
return
ÛÛ 
Json
ÛÛ 
(
ÛÛ  
$num
ÛÛ  !
)
ÛÛ! "
;
ÛÛ" #
}
ÙÙ 
}
ıı 
catch
ˆˆ 
(
ˆˆ 
	Exception
ˆˆ 
)
ˆˆ 
{
˜˜ 
return
¯¯ 
Json
¯¯ 
(
¯¯ 
$num
¯¯ 
)
¯¯ 
;
¯¯ 
}
˘˘ 
return
˙˙ 
Json
˙˙ 
(
˙˙ 
$num
˙˙ 
)
˙˙ 
;
˙˙ 
}
˚˚ 	
public
¸¸ 
ActionResult
¸¸ 
DeleteVideo
¸¸ '
(
¸¸' (
int
¸¸( +
id
¸¸, .
)
¸¸. /
{
˝˝ 	
if
˛˛ 
(
˛˛ 
Session
˛˛ 
[
˛˛ 
$str
˛˛ "
]
˛˛" #
==
˛˛$ &
null
˛˛' +
)
˛˛+ ,
return
˛˛- 3
RedirectToAction
˛˛4 D
(
˛˛D E
$str
˛˛E L
)
˛˛L M
;
˛˛M N
try
ˇˇ 
{
ÄÄ 
var
ÅÅ 
video
ÅÅ 
=
ÅÅ 
ObjEdbContext
ÅÅ )
.
ÅÅ) *
ObjTubeDatas
ÅÅ* 6
.
ÅÅ6 7
Find
ÅÅ7 ;
(
ÅÅ; <
id
ÅÅ< >
)
ÅÅ> ?
;
ÅÅ? @
ObjEdbContext
ÇÇ 
.
ÇÇ 
ObjTubeDatas
ÇÇ *
.
ÇÇ* +
Remove
ÇÇ+ 1
(
ÇÇ1 2
video
ÇÇ2 7
)
ÇÇ7 8
;
ÇÇ8 9
ObjEdbContext
ÉÉ 
.
ÉÉ 
SaveChanges
ÉÉ )
(
ÉÉ) *
)
ÉÉ* +
;
ÉÉ+ ,
return
ÑÑ 
RedirectToAction
ÑÑ '
(
ÑÑ' (
$str
ÑÑ( 2
)
ÑÑ2 3
;
ÑÑ3 4
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
e
ÜÜ 
)
ÜÜ 
{
áá 
ViewBag
àà 
.
àà 
ErrorMessage
àà $
=
àà% &
$str
àà' ?
+
àà@ A
e
ààB C
;
ààC D
return
ââ 
RedirectToAction
ââ '
(
ââ' (
$str
ââ( 2
)
ââ2 3
;
ââ3 4
}
ää 
}
åå 	
public
çç 
ActionResult
çç 
GetCount
çç $
(
çç$ %
)
çç% &
{
éé 	
if
èè 
(
èè 
Session
èè 
[
èè 
$str
èè "
]
èè" #
==
èè$ &
null
èè' +
)
èè+ ,
return
èè- 3
RedirectToAction
èè4 D
(
èèD E
$str
èèE L
)
èèL M
;
èèM N
var
êê 
blog
êê 
=
êê 
ObjEdbContext
êê $
.
êê$ %
ObjPledgesTakens
êê% 5
.
êê5 6
FirstOrDefault
êê6 D
(
êêD E
)
êêE F
;
êêF G
return
ëë 
View
ëë 
(
ëë 
blog
ëë 
)
ëë 
;
ëë 
}
íí 	
[
ìì 	&
ValidateAntiForgeryToken
ìì	 !
]
ìì! "
[
îî 	
HttpPost
îî	 
]
îî 
public
ïï 
ActionResult
ïï 
GetCount
ïï $
(
ïï$ %
PledgesTaken
ïï% 1
objPledgesTaken
ïï2 A
)
ïïA B
{
ññ 	
try
óó 
{
òò 
if
ôô 
(
ôô 
Session
ôô 
[
ôô 
$str
ôô &
]
ôô& '
==
ôô( *
null
ôô+ /
)
ôô/ 0
return
ôô1 7
RedirectToAction
ôô8 H
(
ôôH I
$str
ôôI P
)
ôôP Q
;
ôôQ R
if
öö 
(
öö 
!
öö 

ModelState
öö 
.
öö  
IsValid
öö  '
)
öö' (
return
õõ 
View
õõ 
(
õõ  
$str
õõ  '
)
õõ' (
;
õõ( )
ObjEdbContext
ùù 
.
ùù 
Entry
ùù #
(
ùù# $
objPledgesTaken
ùù$ 3
)
ùù3 4
.
ùù4 5
State
ùù5 :
=
ùù; <
EntityState
ùù= H
.
ùùH I
Modified
ùùI Q
;
ùùQ R
if
ûû 
(
ûû 
objPledgesTaken
ûû #
!=
ûû$ &
null
ûû' +
)
ûû+ ,
ObjEdbContext
ûû- :
.
ûû: ;
ObjPledgesTakens
ûû; K
.
ûûK L
AddOrUpdate
ûûL W
(
ûûW X
objPledgesTaken
ûûX g
)
ûûg h
;
ûûh i
ObjEdbContext
üü 
.
üü 
SaveChanges
üü )
(
üü) *
)
üü* +
;
üü+ ,

ModelState
†† 
.
†† 
Clear
††  
(
††  !
)
††! "
;
††" #
ViewBag
°° 
.
°° 
successMessage
°° &
=
°°' (
$str
°°) N
;
°°N O
var
¢¢ 
blog
¢¢ 
=
¢¢ 
ObjEdbContext
¢¢ (
.
¢¢( )
ObjPledgesTakens
¢¢) 9
.
¢¢9 :
FirstOrDefault
¢¢: H
(
¢¢H I
)
¢¢I J
;
¢¢J K
return
££ 
View
££ 
(
££ 
blog
££  
)
££  !
;
££! "
}
§§ 
catch
•• 
(
•• 
	Exception
•• 
e
•• 
)
•• 
{
¶¶ 
ViewBag
ßß 
.
ßß 
ErrorMessage
ßß $
=
ßß% &
$str
ßß' ?
+
ßß@ A
e
ßßB C
;
ßßC D
return
®® 
View
®® 
(
®® 
)
®® 
;
®® 
}
©© 
}
™™ 	
public
´´ 
ActionResult
´´ !
ChangeTwitterStatus
´´ /
(
´´/ 0
int
´´0 3
id
´´4 6
)
´´6 7
{
¨¨ 	
if
≠≠ 
(
≠≠ 
Session
≠≠ 
[
≠≠ 
$str
≠≠ "
]
≠≠" #
==
≠≠$ &
null
≠≠' +
)
≠≠+ ,
return
≠≠- 3
RedirectToAction
≠≠4 D
(
≠≠D E
$str
≠≠E L
)
≠≠L M
;
≠≠M N
try
ÆÆ 
{
ØØ 
var
∞∞ 
getStatusid
∞∞ 
=
∞∞  !
(
∞∞" #
from
∞∞# '
sa1
∞∞( +
in
∞∞, .
ObjEdbContext
∞∞/ <
.
∞∞< =
ObjTwitterDatas
∞∞= L
where
∞∞M R
sa1
∞∞S V
.
∞∞V W
TwitterDataId
∞∞W d
==
∞∞e g
id
∞∞h j
select
∞∞k q
sa1
∞∞r u
)
∞∞u v
.
∞∞v w
FirstOrDefault∞∞w Ö
(∞∞Ö Ü
)∞∞Ü á
;∞∞á à
if
±± 
(
±± 
getStatusid
±± 
!=
±±  "
null
±±# '
)
±±' (
{
≤≤ 
var
≥≥ 
	getStatus
≥≥ !
=
≥≥" #
getStatusid
≥≥$ /
.
≥≥/ 0
IsValid
≥≥0 7
;
≥≥7 8
if
¥¥ 
(
¥¥ 
	getStatus
¥¥ !
==
¥¥" $
$str
¥¥% /
)
¥¥/ 0
{
µµ 
getStatusid
∂∂ #
.
∂∂# $
IsValid
∂∂$ +
=
∂∂, -
$str
∂∂. :
;
∂∂: ;
if
∑∑ 
(
∑∑ 
!
∑∑ 
TryUpdateModel
∑∑ +
(
∑∑+ ,
getStatusid
∑∑, 7
,
∑∑7 8
new
∑∑9 <
[
∑∑< =
]
∑∑= >
{
∑∑? @
$str
∑∑A J
}
∑∑K L
)
∑∑L M
)
∑∑M N
{
∏∏ 
}
∫∫ 
ObjEdbContext
ªª %
.
ªª% &
SaveChanges
ªª& 1
(
ªª1 2
)
ªª2 3
;
ªª3 4

ModelState
ºº "
.
ºº" #
Clear
ºº# (
(
ºº( )
)
ºº) *
;
ºº* +
return
ΩΩ 
RedirectToAction
ΩΩ /
(
ΩΩ/ 0
$str
ΩΩ0 @
)
ΩΩ@ A
;
ΩΩA B
}
ææ 
}
øø 
if
¿¿ 
(
¿¿ 
getStatusid
¿¿ 
!=
¿¿  "
null
¿¿# '
)
¿¿' (
{
¡¡ 
getStatusid
¬¬ 
.
¬¬  
IsValid
¬¬  '
=
¬¬( )
$str
¬¬* 4
;
¬¬4 5
if
√√ 
(
√√ 
!
√√ 
TryUpdateModel
√√ '
(
√√' (
getStatusid
√√( 3
,
√√3 4
new
√√5 8
[
√√8 9
]
√√9 :
{
√√; <
$str
√√= F
}
√√G H
)
√√H I
)
√√I J
{
ƒƒ 
}
∆∆ 
}
«« 
ObjEdbContext
»» 
.
»» 
SaveChanges
»» )
(
»») *
)
»»* +
;
»»+ ,

ModelState
…… 
.
…… 
Clear
……  
(
……  !
)
……! "
;
……" #
return
   
RedirectToAction
   '
(
  ' (
$str
  ( 8
)
  8 9
;
  9 :
}
ÀÀ 
catch
ÃÃ 
(
ÃÃ 
	Exception
ÃÃ 
e
ÃÃ 
)
ÃÃ 
{
ÕÕ 
ViewBag
ŒŒ 
.
ŒŒ 
ErrorMessage
ŒŒ $
=
ŒŒ% &
$str
ŒŒ' ?
+
ŒŒ@ A
e
ŒŒB C
;
ŒŒC D
return
œœ 
RedirectToAction
œœ '
(
œœ' (
$str
œœ( 8
)
œœ8 9
;
œœ9 :
}
–– 
}
““ 	
public
‘‘ 
ActionResult
‘‘ 
ApprovalTwitter
‘‘ +
(
‘‘+ ,
)
‘‘, -
{
’’ 	
if
÷÷ 
(
÷÷ 
Session
÷÷ 
[
÷÷ 
$str
÷÷ "
]
÷÷" #
==
÷÷$ &
null
÷÷' +
)
÷÷+ ,
return
÷÷- 3
RedirectToAction
÷÷4 D
(
÷÷D E
$str
÷÷E L
)
÷÷L M
;
÷÷M N
var
◊◊ 
data
◊◊ 
=
◊◊ 
(
◊◊ 
from
◊◊ 
sa1
◊◊  
in
◊◊! #
ObjEdbContext
◊◊$ 1
.
◊◊1 2
ObjTwitterDatas
◊◊2 A
where
◊◊B G
sa1
◊◊H K
.
◊◊K L
IsValid
◊◊L S
==
◊◊T V
$str
◊◊W a
select
◊◊b h
sa1
◊◊i l
)
◊◊l m
.
◊◊m n
OrderByDescending
◊◊n 
(◊◊ Ä
x◊◊Ä Å
=>◊◊Ç Ñ
x◊◊Ö Ü
.◊◊Ü á
TimeStam◊◊á è
)◊◊è ê
.◊◊ê ë
ToList◊◊ë ó
(◊◊ó ò
)◊◊ò ô
;◊◊ô ö
ViewData
ÿÿ 
[
ÿÿ 
$str
ÿÿ #
]
ÿÿ# $
=
ÿÿ% &
data
ÿÿ' +
;
ÿÿ+ ,
return
ŸŸ 
View
ŸŸ 
(
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
⁄⁄ 	
public
€€ 
ActionResult
€€ 
UnApprovalTwitter
€€ -
(
€€- .
)
€€. /
{
‹‹ 	
if
›› 
(
›› 
Session
›› 
[
›› 
$str
›› "
]
››" #
==
››$ &
null
››' +
)
››+ ,
return
››- 3
RedirectToAction
››4 D
(
››D E
$str
››E L
)
››L M
;
››M N
ViewData
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ %
]
ﬁﬁ% &
=
ﬁﬁ' (
(
ﬁﬁ) *
from
ﬁﬁ* .
sa1
ﬁﬁ/ 2
in
ﬁﬁ3 5
ObjEdbContext
ﬁﬁ6 C
.
ﬁﬁC D
ObjTwitterDatas
ﬁﬁD S
where
ﬁﬁT Y
sa1
ﬁﬁZ ]
.
ﬁﬁ] ^
IsValid
ﬁﬁ^ e
==
ﬁﬁf h
$str
ﬁﬁi u
select
ﬁﬁv |
sa1ﬁﬁ} Ä
)ﬁﬁÄ Å
.ﬁﬁÅ Ç!
OrderByDescendingﬁﬁÇ ì
(ﬁﬁì î
xﬁﬁî ï
=>ﬁﬁñ ò
xﬁﬁô ö
.ﬁﬁö õ
TimeStamﬁﬁõ £
)ﬁﬁ£ §
.ﬁﬁ§ •
ToListﬁﬁ• ´
(ﬁﬁ´ ¨
)ﬁﬁ¨ ≠
;ﬁﬁ≠ Æ
return
ﬂﬂ 
View
ﬂﬂ 
(
ﬂﬂ 
)
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
public
·· 
ActionResult
·· %
UnApprovalTwitterStatus
·· 3
(
··3 4
int
··4 7
[
··7 8
]
··8 9
twitterData1
··: F
)
··F G
{
‚‚ 	
if
„„ 
(
„„ 
Session
„„ 
[
„„ 
$str
„„ "
]
„„" #
==
„„$ &
null
„„' +
)
„„+ ,
return
„„- 3
RedirectToAction
„„4 D
(
„„D E
$str
„„E L
)
„„L M
;
„„M N
try
‰‰ 
{
ÂÂ 
if
ÊÊ 
(
ÊÊ 
twitterData1
ÊÊ  
!=
ÊÊ! #
null
ÊÊ$ (
)
ÊÊ( )
{
ÁÁ 
foreach
ËË 
(
ËË 
var
ËË  
s1
ËË! #
in
ËË$ &
twitterData1
ËË' 3
)
ËË3 4
{
ÈÈ 
var
ÍÍ 
qry1
ÍÍ  
=
ÍÍ! "
(
ÍÍ# $
from
ÍÍ$ (
sa1
ÍÍ) ,
in
ÍÍ- /
ObjEdbContext
ÍÍ0 =
.
ÍÍ= >
ObjTwitterDatas
ÍÍ> M
where
ÍÍN S
sa1
ÍÍT W
.
ÍÍW X
TwitterDataId
ÍÍX e
==
ÍÍf h
s1
ÍÍi k
select
ÍÍl r
sa1
ÍÍs v
)
ÍÍv w
.
ÍÍw x
ToList
ÍÍx ~
(
ÍÍ~ 
)ÍÍ Ä
;ÍÍÄ Å
foreach
ÎÎ 
(
ÎÎ  !
var
ÎÎ! $
ipDetail
ÎÎ% -
in
ÎÎ. 0
qry1
ÎÎ1 5
)
ÎÎ5 6
{
ÏÏ 
ipDetail
ÌÌ $
.
ÌÌ$ %
IsValid
ÌÌ% ,
=
ÌÌ- .
$str
ÌÌ/ ;
;
ÌÌ; <
if
ÓÓ 
(
ÓÓ  
!
ÓÓ  !
TryUpdateModel
ÓÓ! /
(
ÓÓ/ 0
qry1
ÓÓ0 4
,
ÓÓ4 5
new
ÓÓ6 9
[
ÓÓ9 :
]
ÓÓ: ;
{
ÓÓ< =
$str
ÓÓ> G
}
ÓÓH I
)
ÓÓI J
)
ÓÓJ K
{
ÔÔ 
}
ÒÒ 
ObjEdbContext
ÚÚ )
.
ÚÚ) *
SaveChanges
ÚÚ* 5
(
ÚÚ5 6
)
ÚÚ6 7
;
ÚÚ7 8

ModelState
ÛÛ &
.
ÛÛ& '
Clear
ÛÛ' ,
(
ÛÛ, -
)
ÛÛ- .
;
ÛÛ. /
}
ÙÙ 
}
ıı 
return
ˆˆ 
Json
ˆˆ 
(
ˆˆ  
$num
ˆˆ  !
)
ˆˆ! "
;
ˆˆ" #
}
˜˜ 
}
¯¯ 
catch
˘˘ 
(
˘˘ 
	Exception
˘˘ 
)
˘˘ 
{
˙˙ 
return
˚˚ 
Json
˚˚ 
(
˚˚ 
$num
˚˚ 
)
˚˚ 
;
˚˚ 
}
¸¸ 
return
˝˝ 
Json
˝˝ 
(
˝˝ 
$num
˝˝ 
)
˝˝ 
;
˝˝ 
}
ˇˇ 	
public
ÅÅ 
ActionResult
ÅÅ #
ApprovalTwitterStatus
ÅÅ 1
(
ÅÅ1 2
int
ÅÅ2 5
[
ÅÅ5 6
]
ÅÅ6 7
twitterData
ÅÅ8 C
)
ÅÅC D
{
ÇÇ 	
if
ÉÉ 
(
ÉÉ 
Session
ÉÉ 
[
ÉÉ 
$str
ÉÉ "
]
ÉÉ" #
==
ÉÉ$ &
null
ÉÉ' +
)
ÉÉ+ ,
return
ÉÉ- 3
RedirectToAction
ÉÉ4 D
(
ÉÉD E
$str
ÉÉE L
)
ÉÉL M
;
ÉÉM N
try
ÑÑ 
{
ÖÖ 
if
ÜÜ 
(
ÜÜ 
twitterData
ÜÜ 
!=
ÜÜ  "
null
ÜÜ# '
)
ÜÜ' (
{
áá 
foreach
àà 
(
àà 
var
àà  
s1
àà! #
in
àà$ &
twitterData
àà' 2
)
àà2 3
{
ââ 
var
ää 
qry1
ää  
=
ää! "
(
ää# $
from
ää$ (
sa1
ää) ,
in
ää- /
ObjEdbContext
ää0 =
.
ää= >
ObjTwitterDatas
ää> M
where
ääN S
sa1
ääT W
.
ääW X
TwitterDataId
ääX e
==
ääf h
s1
ääi k
select
ääl r
sa1
ääs v
)
ääv w
.
ääw x
ToList
ääx ~
(
ää~ 
)ää Ä
;ääÄ Å
foreach
ãã 
(
ãã  !
var
ãã! $
ipDetail
ãã% -
in
ãã. 0
qry1
ãã1 5
)
ãã5 6
{
åå 
ipDetail
çç $
.
çç$ %
IsValid
çç% ,
=
çç- .
$str
çç/ 9
;
çç9 :
if
éé 
(
éé  
!
éé  !
TryUpdateModel
éé! /
(
éé/ 0
qry1
éé0 4
,
éé4 5
new
éé6 9
[
éé9 :
]
éé: ;
{
éé< =
$str
éé> G
}
ééH I
)
ééI J
)
ééJ K
{
èè 
}
ëë 
ObjEdbContext
íí )
.
íí) *
SaveChanges
íí* 5
(
íí5 6
)
íí6 7
;
íí7 8

ModelState
ìì &
.
ìì& '
Clear
ìì' ,
(
ìì, -
)
ìì- .
;
ìì. /
}
îî 
}
ïï 
return
ññ 
Json
ññ 
(
ññ  
$num
ññ  !
)
ññ! "
;
ññ" #
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
)
ôô 
{
öö 
return
õõ 
Json
õõ 
(
õõ 
$num
õõ 
)
õõ 
;
õõ 
}
úú 
return
ùù 
Json
ùù 
(
ùù 
$num
ùù 
)
ùù 
;
ùù 
}
ûû 	
public
†† 
ActionResult
†† &
FatchTwitterDataDatewise
†† 4
(
††4 5
)
††5 6
{
°° 	
if
¢¢ 
(
¢¢ 
Session
¢¢ 
[
¢¢ 
$str
¢¢ "
]
¢¢" #
==
¢¢$ &
null
¢¢' +
)
¢¢+ ,
return
¢¢- 3
RedirectToAction
¢¢4 D
(
¢¢D E
$str
¢¢E L
)
¢¢L M
;
¢¢M N
return
££ 
View
££ 
(
££ 
)
££ 
;
££ 
}
§§ 	
[
•• 	
HttpPost
••	 
]
•• 
public
¶¶ 
ActionResult
¶¶ &
FatchTwitterDataDatewise
¶¶ 4
(
¶¶4 5
string
¶¶5 ;
d1
¶¶< >
,
¶¶> ?
string
¶¶@ F
d2
¶¶G I
)
¶¶I J
{
ßß 	
if
®® 
(
®® 
Session
®® 
[
®® 
$str
®® "
]
®®" #
==
®®$ &
null
®®' +
)
®®+ ,
return
®®- 3
RedirectToAction
®®4 D
(
®®D E
$str
®®E L
)
®®L M
;
®®M N
try
©© 
{
™™ 
string
∂∂ 
consumerKey1
∂∂ #
=
∂∂$ %
$str
∂∂& A
;
∂∂A B
string
∑∑ 
consumerSecret1
∑∑ &
=
∑∑' (
$str
∑∑) ]
;
∑∑] ^
string
∏∏ 
accessToken1
∏∏ #
=
∏∏$ %
$str
∏∏& Z
;
∏∏Z [
string
ππ  
accessTokenSecret1
ππ )
=
ππ* +
$str
ππ, [
;
ππ[ \
string
∫∫ 
Query
∫∫ 
=
∫∫ 
$str
∫∫ N
;
∫∫N O
var
ªª 
auth
ªª 
=
ªª 
new
ªª "
SingleUserAuthorizer
ªª 3
{
ºº 
CredentialStore
ΩΩ #
=
ΩΩ$ %
new
ΩΩ& )%
InMemoryCredentialStore
ΩΩ* A
{
ææ 
ConsumerKey
øø #
=
øø$ %
consumerKey1
øø& 2
,
øø2 3
ConsumerSecret
¿¿ &
=
¿¿' (
consumerSecret1
¿¿) 8
,
¿¿8 9

OAuthToken
¡¡ "
=
¡¡# $
accessToken1
¡¡% 1
,
¡¡1 2
OAuthTokenSecret
¬¬ (
=
¬¬) * 
accessTokenSecret1
¬¬+ =
}
√√ 
}
ƒƒ 
;
ƒƒ 
var
∆∆ 
context
∆∆ 
=
∆∆ 
new
∆∆ !
TwitterContext
∆∆" 0
(
∆∆0 1
auth
∆∆1 5
)
∆∆5 6
;
∆∆6 7
int
«« 
count
«« 
=
«« 
$num
«« 
;
«« 
var
»» 
searchResults
»» !
=
»»" #
(
…… 
from
…… "
search
……# )
in
……* ,
context
……- 4
.
……4 5
Search
……5 ;
where
……< A
search
……B H
.
……H I
Type
……I M
==
……N P
LinqToTwitter
……Q ^
.
……^ _

SearchType
……_ i
.
……i j
Search
……j p
&&
……q s
search
……t z
.
……z {
Query……{ Ä
==……Å É
Query……Ñ â
&&……ä å
search……ç ì
.……ì î
IncludeEntities……î £
==……§ ¶
true……ß ´
&&……¨ Æ
search……Ø µ
.……µ ∂
Count……∂ ª
==……º æ
$num……ø √
select……ƒ  
search……À —
)……— “
.……“ ”
SingleOrDefault……” ‚
(……‚ „
)……„ ‰
;……‰ Â
if
   
(
   
searchResults
   !
!=
  " $
null
  % )
)
  ) *
foreach
ÀÀ 
(
ÀÀ 
var
ÀÀ  
item
ÀÀ! %
in
ÀÀ& (
searchResults
ÀÀ) 6
.
ÀÀ6 7
Statuses
ÀÀ7 ?
)
ÀÀ? @
{
ÃÃ 
var
œœ 
objTwitterData
œœ *
=
œœ+ ,
new
œœ- 0
TwitterData
œœ1 <
{
–– 

ScreenName
—— &
=
——' (
item
——) -
.
——- .
User
——. 2
.
——2 3 
ScreenNameResponse
——3 E
,
——E F
UserName
““ $
=
““% &
item
““' +
.
““+ ,
User
““, 0
.
““0 1
Name
““1 5
,
““5 6
Text
””  
=
””! "
item
””# '
.
””' (
Text
””( ,
,
””, -
RetweetCount
‘‘ (
=
‘‘) *
item
‘‘+ /
.
‘‘/ 0
RetweetCount
‘‘0 <
,
‘‘< =
FavouritesCount
’’ +
=
’’, -
item
’’. 2
.
’’2 3
User
’’3 7
.
’’7 8
FavoritesCount
’’8 F
,
’’F G
ProfileImageUrl
÷÷ +
=
÷÷, -
item
÷÷. 2
.
÷÷2 3
User
÷÷3 7
.
÷÷7 8
ProfileImageUrl
÷÷8 G
,
÷÷G H
TimeStam
◊◊ $
=
◊◊% &
item
◊◊' +
.
◊◊+ ,
	CreatedAt
◊◊, 5
,
◊◊5 6
RetweetUrlId
ÿÿ (
=
ÿÿ) *
$str
ÿÿ+ Y
+
ÿÿZ [
item
ÿÿ\ `
.
ÿÿ` a
User
ÿÿa e
.
ÿÿe f
UserIDResponse
ÿÿf t
,
ÿÿt u
ReplyaUrlId
ŸŸ '
=
ŸŸ( )
$str
ŸŸ* Y
+
ŸŸZ [
item
ŸŸ\ `
.
ŸŸ` a
User
ŸŸa e
.
ŸŸe f
UserIDResponse
ŸŸf t
,
ŸŸt u
FavoriteUrlId
⁄⁄ )
=
⁄⁄* +
$str
⁄⁄, [
+
⁄⁄\ ]
item
⁄⁄^ b
.
⁄⁄b c
User
⁄⁄c g
.
⁄⁄g h
UserIDResponse
⁄⁄h v
,
⁄⁄v w
IsValid
€€ #
=
€€$ %
$str
€€& /
}
‹‹ 
;
‹‹ 
ObjEdbContext
›› %
.
››% &
ObjTwitterDatas
››& 5
.
››5 6
Add
››6 9
(
››9 :
objTwitterData
››: H
)
››H I
;
››I J
ObjEdbContext
ﬁﬁ %
.
ﬁﬁ% &
SaveChanges
ﬁﬁ& 1
(
ﬁﬁ1 2
)
ﬁﬁ2 3
;
ﬁﬁ3 4

ModelState
ﬂﬂ "
.
ﬂﬂ" #
Clear
ﬂﬂ# (
(
ﬂﬂ( )
)
ﬂﬂ) *
;
ﬂﬂ* +
}
‡‡ 
ViewBag
¯¯ 
.
¯¯ 
SuccessMessage
¯¯ &
=
¯¯' (
count
¯¯) .
+
¯¯. /
$str
¯¯/ B
;
¯¯B C
return
˘˘ 
View
˘˘ 
(
˘˘ 
)
˘˘ 
;
˘˘ 
}
˙˙ 
catch
˚˚ 
(
˚˚ 
	Exception
˚˚ 
e
˚˚ 
)
˚˚ 
{
¸¸ 
ViewBag
˝˝ 
.
˝˝ 
ErrorMessage
˝˝ $
=
˝˝% &
$str
˝˝' ?
+
˝˝@ A
e
˝˝B C
;
˝˝C D
return
˛˛ 
View
˛˛ 
(
˛˛ 
)
˛˛ 
;
˛˛ 
}
ˇˇ 
}
Ä	Ä	 	
public
Ç	Ç	 
ActionResult
Ç	Ç	 
UpdateJsonData
Ç	Ç	 *
(
Ç	Ç	* +
)
Ç	Ç	+ ,
{
É	É	 	
var
Ñ	Ñ	 
context
Ñ	Ñ	 
=
Ñ	Ñ	 
new
Ñ	Ñ	 

LeadTheWay
Ñ	Ñ	 (
(
Ñ	Ñ	( )
)
Ñ	Ñ	) *
;
Ñ	Ñ	* +
var
á	á	  
getTwitterDataList
á	á	 "
=
á	á	# $
context
á	á	% ,
.
á	á	, -
ObjTwitterDatas
á	á	- <
.
á	á	< =
Where
á	á	= B
(
á	á	B C
x
á	á	C D
=>
á	á	E G
x
á	á	H I
.
á	á	I J
IsValid
á	á	J Q
==
á	á	R T
$str
á	á	U _
)
á	á	_ `
.
á	á	` a
ToList
á	á	a g
(
á	á	g h
)
á	á	h i
;
á	á	i j
var
à	à	 

selectData
à	à	 
=
à	à	  
getTwitterDataList
à	à	 /
.
à	à	/ 0
AsEnumerable
à	à	0 <
(
à	à	< =
)
à	à	= >
.
à	à	> ?
Where
à	à	? D
(
à	à	D E
x
à	à	E F
=>
à	à	G I
x
à	à	J K
.
à	à	K L
IsValid
à	à	L S
==
à	à	T V
$str
à	à	W a
)
à	à	a b
.
à	à	b c
Select
à	à	c i
(
à	à	i j
(
à	à	j k
obj
à	à	k n
,
à	à	n o
index
à	à	p u
)
à	à	u v
=>
à	à	w y
new
à	à	z }
TwitterDataà	à	~ â
{
â	â	 

ScreenName
ä	ä	 
=
ä	ä	 
obj
ä	ä	  
.
ä	ä	  !

ScreenName
ä	ä	! +
,
ä	ä	+ ,
ProfileImageUrl
ã	ã	 
=
ã	ã	  !
obj
ã	ã	" %
.
ã	ã	% &
ProfileImageUrl
ã	ã	& 5
,
ã	ã	5 6
Text
å	å	 
=
å	å	 
obj
å	å	 
.
å	å	 
Text
å	å	 
,
å	å	  
UserName
ç	ç	 
=
ç	ç	 
obj
ç	ç	 
.
ç	ç	 
UserName
ç	ç	 '
,
ç	ç	' (
IsValid
é	é	 
=
é	é	 
obj
é	é	 
.
é	é	 
IsValid
é	é	 %
,
é	é	% &
RetweetCount
è	è	 
=
è	è	 
obj
è	è	 "
.
è	è	" #
RetweetCount
è	è	# /
,
è	è	/ 0
ReplyaUrlId
ê	ê	 
=
ê	ê	 
obj
ê	ê	 !
.
ê	ê	! "
ReplyaUrlId
ê	ê	" -
,
ê	ê	- .
RetweetUrlId
ë	ë	 
=
ë	ë	 
obj
ë	ë	 "
.
ë	ë	" #
RetweetUrlId
ë	ë	# /
,
ë	ë	/ 0
FavoriteUrlId
í	í	 
=
í	í	 
obj
í	í	  #
.
í	í	# $
FavoriteUrlId
í	í	$ 1
,
í	í	1 2
FavouritesCount
ì	ì	 
=
ì	ì	  !
obj
ì	ì	" %
.
ì	ì	% &
FavouritesCount
ì	ì	& 5
,
ì	ì	5 6
TimeStam
î	î	 
=
î	î	 
obj
î	î	 
.
î	î	 
TimeStam
î	î	 '
,
î	î	' (
TwitterDataId
ï	ï	 
=
ï	ï	 
index
ï	ï	  %
+
ï	ï	& '
$num
ï	ï	( )
}
ñ	ñ	 
)
ñ	ñ	 
;
ñ	ñ	 
var
ó	ó	 
bindTwitterData
ó	ó	 
=
ó	ó	  !

selectData
ó	ó	" ,
.
ó	ó	, -
ToList
ó	ó	- 3
(
ó	ó	3 4
)
ó	ó	4 5
;
ó	ó	5 6
var
ò	ò	 

jsonString
ò	ò	 
=
ò	ò	 
JsonConvert
ò	ò	 (
.
ò	ò	( )
SerializeObject
ò	ò	) 8
(
ò	ò	8 9
bindTwitterData
ò	ò	9 H
)
ò	ò	H I
;
ò	ò	I J
if
ô	ô	 
(
ô	ô	 

jsonString
ô	ô	 
!=
ô	ô	 
null
ô	ô	 "
)
ô	ô	" #
{
ö	ö	 
if
õ	õ	 
(
õ	õ	 
!
õ	õ	 
	Directory
õ	õ	 
.
õ	õ	 
Exists
õ	õ	 %
(
õ	õ	% &
Server
õ	õ	& ,
.
õ	õ	, -
MapPath
õ	õ	- 4
(
õ	õ	4 5
$str
õ	õ	5 A
)
õ	õ	A B
)
õ	õ	B C
)
õ	õ	C D
{
ú	ú	 
	Directory
ù	ù	 
.
ù	ù	 
CreateDirectory
ù	ù	 -
(
ù	ù	- .
Server
ù	ù	. 4
.
ù	ù	4 5
MapPath
ù	ù	5 <
(
ù	ù	< =
$str
ù	ù	= I
)
ù	ù	I J
)
ù	ù	J K
;
ù	ù	K L
}
û	û	 
}
ü	ü	 
System
†	†	 
.
†	†	 
IO
†	†	 
.
†	†	 
File
†	†	 
.
†	†	 
WriteAllText
†	†	 '
(
†	†	' (
Server
†	†	( .
.
†	†	. /
MapPath
†	†	/ 6
(
†	†	6 7
$str
†	†	7 T
)
†	†	T U
,
†	†	U V

jsonString
†	†	W a
)
†	†	a b
;
†	†	b c
var
£	£	 
getYouTubedata
£	£	 
=
£	£	  
context
£	£	! (
.
£	£	( )
ObjTubeDatas
£	£	) 5
.
£	£	5 6
Where
£	£	6 ;
(
£	£	; <
x
£	£	< =
=>
£	£	> @
x
£	£	A B
.
£	£	B C
IsValid
£	£	C J
)
£	£	J K
.
£	£	K L
ToList
£	£	L R
(
£	£	R S
)
£	£	S T
;
£	£	T U
var
§	§	 
selectYouTubeData
§	§	 !
=
§	§	" #
getYouTubedata
§	§	$ 2
.
§	§	2 3
AsEnumerable
§	§	3 ?
(
§	§	? @
)
§	§	@ A
.
§	§	A B
Where
§	§	B G
(
§	§	G H
x
§	§	H I
=>
§	§	J L
x
§	§	M N
.
§	§	N O
IsValid
§	§	O V
)
§	§	V W
.
§	§	W X
Select
§	§	X ^
(
§	§	^ _
(
§	§	_ `
obj
§	§	` c
,
§	§	c d
index
§	§	e j
)
§	§	j k
=>
§	§	l n
new
§	§	o r
YouTubeData
§	§	s ~
(
§	§	~ 
)§	§	 Ä
{
•	•	 
VideoId
¶	¶	 
=
¶	¶	 
obj
¶	¶	 
.
¶	¶	 
VideoId
¶	¶	 %
,
¶	¶	% &
ImageUrl
ß	ß	 
=
ß	ß	 
obj
ß	ß	 
.
ß	ß	 
ImageUrl
ß	ß	 '
,
ß	ß	' (
Title
®	®	 
=
®	®	 
obj
®	®	 
.
®	®	 
Title
®	®	 !
,
®	®	! "
Descriptions
©	©	 
=
©	©	 
obj
©	©	 "
.
©	©	" #
Descriptions
©	©	# /
,
©	©	/ 0
IsValid
™	™	 
=
™	™	 
obj
™	™	 
.
™	™	 
IsValid
™	™	 %
,
™	™	% &
YouTubeDataId
´	´	 
=
´	´	 
index
´	´	  %
+
´	´	& '
$num
´	´	( )
}
¨	¨	 
)
¨	¨	 
;
¨	¨	 
var
≠	≠	 
bindYouTubeData
≠	≠	 
=
≠	≠	  !
selectYouTubeData
≠	≠	" 3
.
≠	≠	3 4
ToList
≠	≠	4 :
(
≠	≠	: ;
)
≠	≠	; <
;
≠	≠	< =
var
Æ	Æ	 
jsonString1
Æ	Æ	 
=
Æ	Æ	 
JsonConvert
Æ	Æ	 )
.
Æ	Æ	) *
SerializeObject
Æ	Æ	* 9
(
Æ	Æ	9 :
bindYouTubeData
Æ	Æ	: I
)
Æ	Æ	I J
;
Æ	Æ	J K
if
Ø	Ø	 
(
Ø	Ø	 
jsonString1
Ø	Ø	 
!=
Ø	Ø	 
null
Ø	Ø	 #
)
Ø	Ø	# $
{
∞	∞	 
if
±	±	 
(
±	±	 
!
±	±	 
	Directory
±	±	 
.
±	±	 
Exists
±	±	 %
(
±	±	% &
Server
±	±	& ,
.
±	±	, -
MapPath
±	±	- 4
(
±	±	4 5
$str
±	±	5 A
)
±	±	A B
)
±	±	B C
)
±	±	C D
{
≤	≤	 
	Directory
≥	≥	 
.
≥	≥	 
CreateDirectory
≥	≥	 -
(
≥	≥	- .
Server
≥	≥	. 4
.
≥	≥	4 5
MapPath
≥	≥	5 <
(
≥	≥	< =
$str
≥	≥	= I
)
≥	≥	I J
)
≥	≥	J K
;
≥	≥	K L
}
¥	¥	 
}
µ	µ	 
System
∂	∂	 
.
∂	∂	 
IO
∂	∂	 
.
∂	∂	 
File
∂	∂	 
.
∂	∂	 
WriteAllText
∂	∂	 '
(
∂	∂	' (
Server
∂	∂	( .
.
∂	∂	. /
MapPath
∂	∂	/ 6
(
∂	∂	6 7
$str
∂	∂	7 T
)
∂	∂	T U
,
∂	∂	U V
jsonString1
∂	∂	W b
)
∂	∂	b c
;
∂	∂	c d
var
π	π	 
getFactsData
π	π	 
=
π	π	 
context
π	π	 &
.
π	π	& '
Objblog
π	π	' .
.
π	π	. /
Where
π	π	/ 4
(
π	π	4 5
x
π	π	5 6
=>
π	π	7 9
x
π	π	: ;
.
π	π	; <

IsSelected
π	π	< F
)
π	π	F G
.
π	π	G H
ToList
π	π	H N
(
π	π	N O
)
π	π	O P
;
π	π	P Q
var
∫	∫	 
selectFactData
∫	∫	 
=
∫	∫	  
getFactsData
∫	∫	! -
.
∫	∫	- .
AsEnumerable
∫	∫	. :
(
∫	∫	: ;
)
∫	∫	; <
.
∫	∫	< =
Where
∫	∫	= B
(
∫	∫	B C
x
∫	∫	C D
=>
∫	∫	E G
x
∫	∫	H I
.
∫	∫	I J

IsSelected
∫	∫	J T
)
∫	∫	T U
.
∫	∫	U V
Select
∫	∫	V \
(
∫	∫	\ ]
(
∫	∫	] ^
obj
∫	∫	^ a
,
∫	∫	a b
index
∫	∫	c h
)
∫	∫	h i
=>
∫	∫	j l
new
∫	∫	m p
BlogPost
∫	∫	q y
(
∫	∫	y z
)
∫	∫	z {
{
ª	ª	 
Content
º	º	 
=
º	º	 
obj
º	º	 
.
º	º	 
Content
º	º	 %
,
º	º	% &
ImageUrl
Ω	Ω	 
=
Ω	Ω	 
obj
Ω	Ω	 
.
Ω	Ω	 
ImageUrl
Ω	Ω	 '
,
Ω	Ω	' (
PostedOn
æ	æ	 
=
æ	æ	 
obj
æ	æ	 
.
æ	æ	 
PostedOn
æ	æ	 '
,
æ	æ	' (

IsSelected
ø	ø	 
=
ø	ø	 
obj
ø	ø	  
.
ø	ø	  !

IsSelected
ø	ø	! +
,
ø	ø	+ ,

BlogPostId
¿	¿	 
=
¿	¿	 
index
¿	¿	 "
+
¿	¿	# $
$num
¿	¿	% &
}
¡	¡	 
)
¡	¡	 
;
¡	¡	 
var
¬	¬	 
bindFactsData
¬	¬	 
=
¬	¬	 
selectFactData
¬	¬	  .
.
¬	¬	. /
ToList
¬	¬	/ 5
(
¬	¬	5 6
)
¬	¬	6 7
;
¬	¬	7 8
var
ƒ	ƒ	 
jsonString2
ƒ	ƒ	 
=
ƒ	ƒ	 
JsonConvert
ƒ	ƒ	 )
.
ƒ	ƒ	) *
SerializeObject
ƒ	ƒ	* 9
(
ƒ	ƒ	9 :
bindFactsData
ƒ	ƒ	: G
)
ƒ	ƒ	G H
;
ƒ	ƒ	H I
if
≈	≈	 
(
≈	≈	 
jsonString2
≈	≈	 
!=
≈	≈	 
null
≈	≈	 #
)
≈	≈	# $
{
∆	∆	 
if
«	«	 
(
«	«	 
!
«	«	 
	Directory
«	«	 
.
«	«	 
Exists
«	«	 %
(
«	«	% &
Server
«	«	& ,
.
«	«	, -
MapPath
«	«	- 4
(
«	«	4 5
$str
«	«	5 A
)
«	«	A B
)
«	«	B C
)
«	«	C D
{
»	»	 
	Directory
…	…	 
.
…	…	 
CreateDirectory
…	…	 -
(
…	…	- .
Server
…	…	. 4
.
…	…	4 5
MapPath
…	…	5 <
(
…	…	< =
$str
…	…	= I
)
…	…	I J
)
…	…	J K
;
…	…	K L
}
 	 	 
}
À	À	 
System
Ã	Ã	 
.
Ã	Ã	 
IO
Ã	Ã	 
.
Ã	Ã	 
File
Ã	Ã	 
.
Ã	Ã	 
WriteAllText
Ã	Ã	 '
(
Ã	Ã	' (
Server
Ã	Ã	( .
.
Ã	Ã	. /
MapPath
Ã	Ã	/ 6
(
Ã	Ã	6 7
$str
Ã	Ã	7 R
)
Ã	Ã	R S
,
Ã	Ã	S T
jsonString2
Ã	Ã	U `
)
Ã	Ã	` a
;
Ã	Ã	a b
return
Õ	Õ	 
null
Õ	Õ	 
;
Õ	Õ	 
}
Œ	Œ	 	
}
œ	œ	 
}–	–	 ﬁ-
QF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Controllers\DataController.cs
	namespace 	
iLeadTheWayProject
 
. 
Controllers (
{ 
public 

class 
DataController 
:  !

Controller" ,
{ 
public 
readonly 

LeadTheWay "
ObjEdbContext# 0
=1 2
new3 6

LeadTheWay7 A
(A B
)B C
;C D
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
FatchTwitterData ,
(, -
)- .
{ 	
try 
{ 
var 
service 
= 
new !
TwitterService" 0
(0 1
AdminController1 @
.@ A
ConsumerKeyA L
,L M
AdminControllerM \
.\ ]
ConsumerSecret] k
)k l
;l m
service 
. 
AuthenticateWith (
(( )
AdminController) 8
.8 9
AccessToken9 D
,D E
AdminControllerF U
.U V
AccessTokenSecretV g
)g h
;h i
var!! 
tweets!! 
=!! 
service!! $
.!!$ %
Search!!% +
(!!+ ,
new!!, /
SearchOptions!!0 =
{!!> ?
Q!!@ A
=!!B C
$str!!D Q
,!!Q R
Count!!S X
=!!Y Z
$num!![ ^
}!!_ `
)!!` a
;!!a b
var&& 
status&& 
=&& 
tweets&& #
.&&# $
Statuses&&$ ,
;&&, -
var'' 
twitterStatuses'' #
=''$ %
status''& ,
as''- /
IList''0 5
<''5 6
TwitterStatus''6 C
>''C D
??''E G
status''H N
.''N O
ToList''O U
(''U V
)''V W
;''W X
var)) 
count)) 
=)) 
$num)) 
;)) 
foreach** 
(** 
var** 
item** !
in**" $
twitterStatuses**% 4
)**4 5
{++ 
var,, 
qry,, 
=,, 
(,, 
from,, #
s,,$ %
in,,& (
ObjEdbContext,,) 6
.,,6 7
ObjTwitterDatas,,7 F
where,,G L
s,,M N
.,,N O
Text,,O S
==,,T V
item,,W [
.,,[ \
Text,,\ `
&&,,a c
s,,d e
.,,e f

ScreenName,,f p
==,,q s
item,,t x
.,,x y
User,,y }
.,,} ~

ScreenName	,,~ à
select
,,â è
s
,,ê ë
)
,,ë í
.
,,í ì
FirstOrDefault
,,ì °
(
,,° ¢
)
,,¢ £
;
,,£ §
if-- 
(-- 
qry-- 
!=-- 
null-- #
)--# $
continue--% -
;--- .
var.. 
objTwitterData.. &
=..' (
new..) ,
TwitterData..- 8
{// 

ScreenName00 "
=00# $
item00% )
.00) *
User00* .
.00. /

ScreenName00/ 9
,009 :
UserName11  
=11! "
item11# '
.11' (
User11( ,
.11, -
Name11- 1
,111 2
Text22 
=22 
item22 #
.22# $
Text22$ (
,22( )
RetweetCount33 $
=33% &
item33' +
.33+ ,
RetweetCount33, 8
,338 9
FavouritesCount44 '
=44( )
item44* .
.44. /
User44/ 3
.443 4
FavouritesCount444 C
,44C D
ProfileImageUrl55 '
=55( )
item55* .
.55. /
User55/ 3
.553 4
ProfileImageUrl554 C
,55C D
TimeStam66  
=66! "
item66# '
.66' (
CreatedDate66( 3
,663 4
RetweetUrlId77 $
=77% &
$str77' U
+77V W
item77X \
.77\ ]
Id77] _
,77_ `
ReplyaUrlId88 #
=88$ %
$str88& U
+88V W
item88X \
.88\ ]
Id88] _
,88_ `
FavoriteUrlId99 %
=99& '
$str99( W
+99X Y
item99Z ^
.99^ _
Id99_ a
,99a b
IsValid:: 
=::  !
$str::! *
};; 
;;; 
ObjEdbContext<< !
.<<! "
ObjTwitterDatas<<" 1
.<<1 2
Add<<2 5
(<<5 6
objTwitterData<<6 D
)<<D E
;<<E F
ObjEdbContext== !
.==! "
SaveChanges==" -
(==- .
)==. /
;==/ 0

ModelState>> 
.>> 
Clear>> $
(>>$ %
)>>% &
;>>& '
count?? 
=?? 
count?? !
+??" #
$num??$ %
;??% &
}@@ 
ViewBagAA 
.AA 
SuccessMessageAA &
=AA' (
countAA) .
+AA/ 0
$strAA1 D
;AAD E
returnBB 
ViewBB 
(BB 
$strBB #
)BB# $
;BB$ %
}CC 
catchDD 
(DD 
	ExceptionDD 
)DD 
{EE 
ViewBagFF 
.FF 
ErrorMessageFF $
=FF% &
$strFF' ?
;FF? @
returnGG 
ViewGG 
(GG 
$strGG #
)GG# $
;GG$ %
}HH 
}II 	
}LL 
}MM ôÏ
QF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Controllers\HomeController.cs
	namespace 	
iLeadTheWayProject
 
. 
Controllers (
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
public 
readonly 

LeadTheWay "
ObjEdbContext# 0
=1 2
new3 6

LeadTheWay7 A
(A B
)B C
;C D
public 
ActionResult 
Home  
(  !
)! "
{ 	
var 
qry 
= 
( 
from 
sa1 
in  "
ObjEdbContext# 0
.0 1
ObjPledgesTakens1 A
selectB H
sa1I L
)L M
.M N
FirstOrDefaultN \
(\ ]
)] ^
;^ _
if 
( 
qry 
== 
null 
) 
return #
View$ (
(( )
)) *
;* +
var 
count 
= 
Convert 
.  
ToInt64  '
(' (
qry( +
.+ ,
CountPledges, 8
)8 9
;9 :
var 
number 
= 
Convert 
.  
	ToDecimal  )
() *
count* /
)/ 0
.0 1
ToString1 9
(9 :
$str: B
)B C
;C D
ViewBag 
. 
Number 
= 
number #
;# $
return 
View 
( 
) 
; 
} 	
public 

JsonResult 

GetAllData $
($ %
int% (
AllcountTweet) 6
,6 7
int8 ;
AllcountFacts< I
,I J
intK N
AllcountVideoO \
)\ ]
{ 	
try   
{!! 
var## 
jsonReaderTweets## (
=##) *
new##+ .
StreamReader##/ ;
(##; <
Server##< B
.##B C
MapPath##C J
(##J K
$str##K h
)##h i
)##i j
;##j k
var$$ 
rawJsonTweets$$ %
=$$& '
jsonReaderTweets$$( 8
.$$8 9
	ReadToEnd$$9 B
($$B C
)$$C D
;$$D E
jsonReaderTweets%% $
.%%$ %
Close%%% *
(%%* +
)%%+ ,
;%%, -
var&& 

dtlsTweets&& "
=&&# $
JsonConvert&&% 0
.&&0 1
DeserializeObject&&1 B
<&&B C
List&&C G
<&&G H
TwitterData&&H S
>&&S T
>&&T U
(&&U V
rawJsonTweets&&V c
)&&c d
;&&d e
var'' 

countTweet'' "
=''# $

dtlsTweets''% /
.''/ 0
Count''0 5
(''5 6
)''6 7
;''7 8
var(( 
countDataTweet(( &
=((' (

countTweet(() 3
-((4 5
(((6 7
$num((7 8
*((9 :
AllcountTweet((; H
)((H I
;((I J
var++ 
jsonReaderFacts++ '
=++( )
new++* -
StreamReader++. :
(++: ;
Server++; A
.++A B
MapPath++B I
(++I J
$str++J e
)++e f
)++f g
;++g h
var,, 
rawJsonFacts,, $
=,,% &
jsonReaderFacts,,' 6
.,,6 7
	ReadToEnd,,7 @
(,,@ A
),,A B
;,,B C
jsonReaderFacts-- #
.--# $
Close--$ )
(--) *
)--* +
;--+ ,
var.. 
	dtlsFacts.. !
=.." #
JsonConvert..$ /
.../ 0
DeserializeObject..0 A
<..A B
List..B F
<..F G
BlogPost..G O
>..O P
>..P Q
(..Q R
rawJsonFacts..R ^
)..^ _
;.._ `
var// 

countFacts// "
=//# $
	dtlsFacts//% .
.//. /
Count/// 4
(//4 5
)//5 6
;//6 7
var00 
countDataFacts00 &
=00' (

countFacts00) 3
-004 5
(006 7
$num007 8
*009 :
AllcountFacts00; H
)00H I
;00I J
var22 
jsonReaderVideo22 '
=22( )
new22* -
StreamReader22. :
(22: ;
Server22; A
.22A B
MapPath22B I
(22I J
$str22J g
)22g h
)22h i
;22i j
var33 
rawJsonVideo33 $
=33% &
jsonReaderVideo33' 6
.336 7
	ReadToEnd337 @
(33@ A
)33A B
;33B C
jsonReaderVideo44 #
.44# $
Close44$ )
(44) *
)44* +
;44+ ,
var55 
	dtlVideos55 !
=55" #
JsonConvert55$ /
.55/ 0
DeserializeObject550 A
<55A B
List55B F
<55F G
YouTubeData55G R
>55R S
>55S T
(55T U
rawJsonVideo55U a
)55a b
;55b c
var66 

countVideo66 "
=66# $
	dtlVideos66% .
.66. /
Count66/ 4
(664 5
)665 6
;666 7
var77 
countDataVideo77 &
=77' (

countVideo77) 3
-774 5
(776 7
$num777 8
*779 :
AllcountVideo77; H
)77H I
;77I J
var== 
queryYoutube== $
===% &
	dtlVideos==' 0
.==0 1
Where==1 6
(==6 7
x==7 8
=>==9 ;
x==< =
.=== >
YouTubeDataId==> K
>===L N
$num==O P
&&==Q S
x==T U
.==U V
YouTubeDataId==V c
<===d f
countDataVideo==g u
)==u v
.==v w
OrderByDescending	==w à
(
==à â
x
==â ä
=>
==ã ç
x
==é è
.
==è ê
YouTubeDataId
==ê ù
)
==ù û
;
==û ü
var>> 
chkYoutubeCount>> '
=>>( )
queryYoutube>>* 6
.>>6 7
Count>>7 <
(>>< =
)>>= >
;>>> ?
var@@ 

queryFacts@@ "
=@@# $
	dtlsFacts@@% .
.@@. /
Where@@/ 4
(@@4 5
x@@5 6
=>@@7 9
x@@: ;
.@@; <

BlogPostId@@< F
>=@@G I
$num@@J K
&&@@L N
x@@O P
.@@P Q

BlogPostId@@Q [
<=@@\ ^
countDataFacts@@_ m
)@@m n
.@@n o
OrderByDescending	@@o Ä
(
@@Ä Å
x
@@Å Ç
=>
@@É Ö
x
@@Ü á
.
@@á à

BlogPostId
@@à í
)
@@í ì
;
@@ì î
varAA 
chkFactsCountAA %
=AA& '

queryFactsAA( 2
.AA2 3
CountAA3 8
(AA8 9
)AA9 :
;AA: ;
ifBB 
(BB 
chkYoutubeCountBB '
>=BB( *
$numBB+ ,
&&BB- /
chkFactsCountBB0 =
>=BB> @
$numBBA B
)BBB C
{CC 
varDD 
allDataYoutubeDD *
=DD+ ,
queryYoutubeDD- 9
.DD9 :
WhereDD: ?
(DD? @
xDD@ A
=>DDB D
xDDE F
.DDF G
YouTubeDataIdDDG T
>=DDU W
$numDDX Y
&&DDZ \
xDD] ^
.DD^ _
YouTubeDataIdDD_ l
<=DDm o
countDataVideoDDp ~
)	DD Ä
.
DDÄ Å
Take
DDÅ Ö
(
DDÖ Ü
$num
DDÜ á
)
DDá à
.
DDà â
OrderByDescending
DDâ ö
(
DDö õ
x
DDõ ú
=>
DDù ü
x
DD† °
.
DD° ¢
YouTubeDataId
DD¢ Ø
)
DDØ ∞
.
DD∞ ±
ToList
DD± ∑
(
DD∑ ∏
)
DD∏ π
;
DDπ ∫
varEE 
allDatafactsEE (
=EE) *

queryFactsEE+ 5
.EE5 6
WhereEE6 ;
(EE; <
xEE< =
=>EE> @
xEEA B
.EEB C

BlogPostIdEEC M
>=EEN P
$numEEQ R
&&EES U
xEEV W
.EEW X

BlogPostIdEEX b
<=EEc e
countDataFactsEEf t
)EEu v
.EEv w
TakeEEw {
(EE{ |
$numEE| }
)EE} ~
.EE~ 
OrderByDescending	EE ê
(
EEê ë
x
EEë í
=>
EEì ï
x
EEñ ó
.
EEó ò

BlogPostId
EEò ¢
)
EE¢ £
.
EE£ §
ToList
EE§ ™
(
EE™ ´
)
EE´ ¨
;
EE¨ ≠
varFF 
queryTweetsFF '
=FF( )

dtlsTweetsFF* 4
.FF4 5
WhereFF5 :
(FF: ;
xFF; <
=>FF= ?
xFF@ A
.FFA B
TwitterDataIdFFB O
>=FFP R
$numFFS T
&&FFU W
xFFX Y
.FFY Z
TwitterDataIdFFZ g
<=FFh j
countDataTweetFFk y
)FFy z
.FFz {
OrderByDescending	FF{ å
(
FFå ç
x
FFç é
=>
FFè ë
x
FFí ì
.
FFì î
TwitterDataId
FFî °
)
FF° ¢
;
FF¢ £
varGG 
allDataTweetGG (
=GG) *
queryTweetsGG+ 6
.GG6 7
TakeGG7 ;
(GG; <
$numGG< =
)GG= >
.GG> ?
ToListGG? E
(GGE F
)GGF G
;GGG H
varHH 
resultHH "
=HH# $
allDataTweetHH% 1
.HH1 2
ConcatHH2 8
(HH8 9
allDataYoutubeHH9 G
.HHG H
ConcatHHH N
(HHN O
allDatafactsHHO [
.HH[ \
CastHH\ `
<HH` a
objectHHa g
>HHg h
(HHh i
)HHi j
)HHj k
)HHk l
;HHl m
returnII 
JsonII #
(II# $
resultII$ *
,II* +
JsonRequestBehaviorII, ?
.II? @
AllowGetII@ H
)IIH I
;III J
}JJ 
elseKK 
ifKK 
(KK 
chkYoutubeCountKK ,
<KK- .
$numKK/ 0
&&KK1 3
chkFactsCountKK4 A
>=KKB D
$numKKE F
)KKF G
{LL 
varMM 
allDatafactsMM (
=MM) *

queryFactsMM+ 5
.MM5 6
WhereMM6 ;
(MM; <
xMM< =
=>MM> @
xMMA B
.MMB C

BlogPostIdMMC M
>=MMN P
$numMMQ R
&&MMS U
xMMV W
.MMW X

BlogPostIdMMX b
<=MMc e
countDataFactsMMf t
&&MMu w
xMMx y
.MMy z

IsSelected	MMz Ñ
)
MMÑ Ö
.
MMÖ Ü
Take
MMÜ ä
(
MMä ã
$num
MMã å
)
MMå ç
.
MMç é
OrderByDescending
MMé ü
(
MMü †
x
MM† °
=>
MM¢ §
x
MM• ¶
.
MM¶ ß

BlogPostId
MMß ±
)
MM± ≤
.
MM≤ ≥
ToList
MM≥ π
(
MMπ ∫
)
MM∫ ª
;
MMª º
varNN 
queryTweetsNN '
=NN( )

dtlsTweetsNN* 4
.NN4 5
WhereNN5 :
(NN: ;
xNN; <
=>NN= ?
xNN@ A
.NNA B
TwitterDataIdNNB O
>=NNP R
$numNNS T
&&NNU W
xNNX Y
.NNY Z
TwitterDataIdNNZ g
<=NNh j
countDataTweetNNk y
)NNy z
.NNz {
OrderByDescending	NN{ å
(
NNå ç
x
NNç é
=>
NNè ë
x
NNí ì
.
NNì î
TwitterDataId
NNî °
)
NN° ¢
;
NN¢ £
varOO 
allDataTweetOO (
=OO) *
queryTweetsOO+ 6
.OO6 7
TakeOO7 ;
(OO; <
$numOO< =
)OO= >
.OO> ?
ToListOO? E
(OOE F
)OOF G
;OOG H
varPP 
resultPP "
=PP# $
allDataTweetPP% 1
.PP1 2
ConcatPP2 8
(PP8 9
allDatafactsPP9 E
.PPE F
CastPPF J
<PPJ K
objectPPK Q
>PPQ R
(PPR S
)PPS T
)PPT U
;PPU V
returnQQ 
JsonQQ #
(QQ# $
resultQQ$ *
,QQ* +
JsonRequestBehaviorQQ, ?
.QQ? @
AllowGetQQ@ H
)QQH I
;QQI J
}RR 
elseSS 
ifSS 
(SS 
chkYoutubeCountSS ,
<=SS- /
$numSS0 1
&&SS2 4
chkFactsCountSS5 B
==SSC E
$numSSF G
)SSG H
{TT 
varUU 
allDatafactsUU (
=UU) *

queryFactsUU+ 5
.UU5 6
WhereUU6 ;
(UU; <
xUU< =
=>UU> @
xUUA B
.UUB C

BlogPostIdUUC M
>=UUN P
$numUUQ R
&&UUS U
xUUV W
.UUW X

BlogPostIdUUX b
<=UUc e
countDataFactsUUf t
&&UUu w
xUUx y
.UUy z

IsSelected	UUz Ñ
)
UUÑ Ö
.
UUÖ Ü
Take
UUÜ ä
(
UUä ã
$num
UUã å
)
UUå ç
.
UUç é
OrderByDescending
UUé ü
(
UUü †
x
UU† °
=>
UU¢ §
x
UU• ¶
.
UU¶ ß

BlogPostId
UUß ±
)
UU± ≤
.
UU≤ ≥
ToList
UU≥ π
(
UUπ ∫
)
UU∫ ª
;
UUª º
varVV 
queryTweetsVV '
=VV( )

dtlsTweetsVV* 4
.VV4 5
WhereVV5 :
(VV: ;
xVV; <
=>VV= ?
xVV@ A
.VVA B
TwitterDataIdVVB O
>=VVP R
$numVVS T
&&VVU W
xVVX Y
.VVY Z
TwitterDataIdVVZ g
<=VVh j
countDataTweetVVk y
)VVy z
.VVz {
OrderByDescending	VV{ å
(
VVå ç
x
VVç é
=>
VVè ë
x
VVí ì
.
VVì î
TwitterDataId
VVî °
)
VV° ¢
;
VV¢ £
varWW 
allDataTweetWW (
=WW) *
queryTweetsWW+ 6
.WW6 7
TakeWW7 ;
(WW; <
$numWW< =
)WW= >
.WW> ?
ToListWW? E
(WWE F
)WWF G
;WWG H
varXX 
resultXX "
=XX# $
allDataTweetXX% 1
.XX1 2
ConcatXX2 8
(XX8 9
allDatafactsXX9 E
.XXE F
CastXXF J
<XXJ K
objectXXK Q
>XXQ R
(XXR S
)XXS T
)XXT U
;XXU V
returnYY 
JsonYY #
(YY# $
resultYY$ *
,YY* +
JsonRequestBehaviorYY, ?
.YY? @
AllowGetYY@ H
)YYH I
;YYI J
}ZZ 
else[[ 
if[[ 
([[ 
chkYoutubeCount[[ ,
<[[- .
$num[[/ 0
&&[[1 3
chkFactsCount[[4 A
==[[B D
$num[[E F
)[[F G
{\\ 
var]] 
queryTweets]] '
=]]( )

dtlsTweets]]* 4
.]]4 5
Where]]5 :
(]]: ;
x]]; <
=>]]= ?
x]]@ A
.]]A B
TwitterDataId]]B O
>=]]P R
$num]]S T
&&]]U W
x]]X Y
.]]Y Z
TwitterDataId]]Z g
<=]]h j
countDataTweet]]k y
)]]y z
.]]z {
OrderByDescending	]]{ å
(
]]å ç
x
]]ç é
=>
]]è ë
x
]]í ì
.
]]ì î
TwitterDataId
]]î °
)
]]° ¢
;
]]¢ £
var^^ 
allDataTweet^^ (
=^^) *
queryTweets^^+ 6
.^^6 7
Take^^7 ;
(^^; <
$num^^< =
)^^= >
.^^> ?
ToList^^? E
(^^E F
)^^F G
;^^G H
var__ 
result__ "
=__# $
allDataTweet__% 1
.__1 2
Cast__2 6
<__6 7
object__7 =
>__= >
(__> ?
)__? @
;__@ A
return`` 
Json`` #
(``# $
result``$ *
,``* +
JsonRequestBehavior``, ?
.``? @
AllowGet``@ H
)``H I
;``I J
}aa 
elsebb 
ifbb 
(bb 
chkYoutubeCountbb ,
==bb- /
$numbb0 1
&&bb2 4
chkFactsCountbb5 B
==bbC E
$numbbF G
)bbG H
{cc 
vardd 
allDatafactsdd (
=dd) *

queryFactsdd+ 5
.dd5 6
Wheredd6 ;
(dd; <
xdd< =
=>dd> @
xddA B
.ddB C

BlogPostIdddC M
>=ddN P
$numddQ R
&&ddS U
xddV W
.ddW X

BlogPostIdddX b
<=ddc e
countDataFactsddf t
)ddt u
.ddu v
Takeddv z
(ddz {
$numdd{ |
)dd| }
.dd} ~
OrderByDescending	dd~ è
(
ddè ê
x
ddê ë
=>
ddí î
x
ddï ñ
.
ddñ ó

BlogPostId
ddó °
)
dd° ¢
.
dd¢ £
ToList
dd£ ©
(
dd© ™
)
dd™ ´
;
dd´ ¨
varee 
allDataYoutubeee *
=ee+ ,
queryYoutubeee- 9
.ee9 :
Whereee: ?
(ee? @
xee@ A
=>eeB D
xeeE F
.eeF G
YouTubeDataIdeeG T
>=eeU W
$numeeX Y
&&eeZ \
xee] ^
.ee^ _
YouTubeDataIdee_ l
<=eem o
countDataVideoeep ~
)ee~ 
.	ee Ä
Take
eeÄ Ñ
(
eeÑ Ö
$num
eeÖ Ü
)
eeÜ á
.
eeá à
OrderByDescending
eeà ô
(
eeô ö
x
eeö õ
=>
eeú û
x
eeü †
.
ee† °
YouTubeDataId
ee° Æ
)
eeÆ Ø
.
eeØ ∞
ToList
ee∞ ∂
(
ee∂ ∑
)
ee∑ ∏
;
ee∏ π
varff 
queryTweetsff '
=ff( )

dtlsTweetsff* 4
.ff4 5
Whereff5 :
(ff: ;
xff; <
=>ff= ?
xff@ A
.ffA B
TwitterDataIdffB O
>=ffP R
$numffS T
&&ffU W
xffX Y
.ffY Z
TwitterDataIdffZ g
<=ffh j
countDataTweetffk y
)ffy z
.ffz {
OrderByDescending	ff{ å
(
ffå ç
x
ffç é
=>
ffè ë
x
ffí ì
.
ffì î
TwitterDataId
ffî °
)
ff° ¢
;
ff¢ £
vargg 
allDataTweetgg (
=gg) *
queryTweetsgg+ 6
.gg6 7
Takegg7 ;
(gg; <
$numgg< =
)gg= >
.gg> ?
ToListgg? E
(ggE F
)ggF G
;ggG H
varhh 
resulthh "
=hh# $
allDataTweethh% 1
.hh1 2
Concathh2 8
(hh8 9
allDataYoutubehh9 G
.hhG H
ConcathhH N
(hhN O
allDatafactshhO [
.hh[ \
Casthh\ `
<hh` a
objecthha g
>hhg h
(hhh i
)hhi j
)hhj k
)hhk l
;hhl m
returnii 
Jsonii #
(ii# $
resultii$ *
,ii* +
JsonRequestBehaviorii, ?
.ii? @
AllowGetii@ H
)iiH I
;iiI J
}jj 
elsekk 
{ll 
varmm 
allDataYoutubemm *
=mm+ ,
queryYoutubemm- 9
.mm9 :
Wheremm: ?
(mm? @
xmm@ A
=>mmB D
xmmE F
.mmF G
YouTubeDataIdmmG T
>=mmU W
$nummmX Y
&&mmZ \
xmm] ^
.mm^ _
YouTubeDataIdmm_ l
<=mmm o
countDataVideommp ~
)mm~ 
.	mm Ä
Take
mmÄ Ñ
(
mmÑ Ö
$num
mmÖ Ü
)
mmÜ á
.
mmá à
OrderByDescending
mmà ô
(
mmô ö
x
mmö õ
=>
mmú û
x
mmü †
.
mm† °
YouTubeDataId
mm° Æ
)
mmÆ Ø
.
mmØ ∞
ToList
mm∞ ∂
(
mm∂ ∑
)
mm∑ ∏
;
mm∏ π
varnn 
queryTweetsnn '
=nn( )

dtlsTweetsnn* 4
.nn4 5
Wherenn5 :
(nn: ;
xnn; <
=>nn= ?
xnn@ A
.nnA B
TwitterDataIdnnB O
>=nnP R
$numnnS T
&&nnU W
xnnX Y
.nnY Z
TwitterDataIdnnZ g
<=nnh j
countDataTweetnnk y
)nny z
.nnz {
OrderByDescending	nn{ å
(
nnå ç
x
nnç é
=>
nnè ë
x
nní ì
.
nnì î
TwitterDataId
nnî °
)
nn° ¢
;
nn¢ £
varoo 
allDataTweetoo (
=oo) *
queryTweetsoo+ 6
.oo6 7
Takeoo7 ;
(oo; <
$numoo< =
)oo= >
.oo> ?
ToListoo? E
(ooE F
)ooF G
;ooG H
varpp 
resultpp "
=pp# $
allDataTweetpp% 1
.pp1 2
Concatpp2 8
(pp8 9
allDataYoutubepp9 G
.ppG H
CastppH L
<ppL M
objectppM S
>ppS T
(ppT U
)ppU V
)ppV W
;ppW X
returnqq 
Jsonqq #
(qq# $
resultqq$ *
,qq* +
JsonRequestBehaviorqq, ?
.qq? @
AllowGetqq@ H
)qqH I
;qqI J
}rr 
}ss 
catchtt 
(tt 
	Exceptiontt 
)tt 
{uu 
returnvv 
Jsonvv 
(vv 
falsevv !
,vv! "
JsonRequestBehaviorvv# 6
.vv6 7
AllowGetvv7 ?
)vv? @
;vv@ A
}ww 
}xx 	
[yy 	
HttpGetyy	 
]yy 
publiczz 

JsonResultzz 
GetTweetDatazz &
(zz& '
intzz' *

tweetcountzz+ 5
)zz5 6
{{{ 	
try|| 
{}} 
var 

jsonReader "
=# $
new% (
StreamReader) 5
(5 6
Server6 <
.< =
MapPath= D
(D E
$strE b
)b c
)c d
;d e
var
ÄÄ 
rawJson
ÄÄ 
=
ÄÄ  !

jsonReader
ÄÄ" ,
.
ÄÄ, -
	ReadToEnd
ÄÄ- 6
(
ÄÄ6 7
)
ÄÄ7 8
;
ÄÄ8 9

jsonReader
ÅÅ 
.
ÅÅ 
Close
ÅÅ $
(
ÅÅ$ %
)
ÅÅ% &
;
ÅÅ& '
var
ÇÇ 
dtls
ÇÇ 
=
ÇÇ 
JsonConvert
ÇÇ *
.
ÇÇ* +
DeserializeObject
ÇÇ+ <
<
ÇÇ< =
List
ÇÇ= A
<
ÇÇA B
TwitterData
ÇÇB M
>
ÇÇM N
>
ÇÇN O
(
ÇÇO P
rawJson
ÇÇP W
)
ÇÇW X
;
ÇÇX Y
var
ÉÉ 
count
ÉÉ 
=
ÉÉ 
dtls
ÉÉ  $
.
ÉÉ$ %
Count
ÉÉ% *
(
ÉÉ* +
)
ÉÉ+ ,
;
ÉÉ, -
var
ÑÑ 
	countData
ÑÑ !
=
ÑÑ" #
count
ÑÑ$ )
-
ÑÑ* +
(
ÑÑ, -
$num
ÑÑ- .
*
ÑÑ/ 0

tweetcount
ÑÑ1 ;
)
ÑÑ; <
;
ÑÑ< =
var
ÖÖ 
dataContainer
ÖÖ %
=
ÖÖ& '
dtls
ÖÖ' +
.
ÖÖ+ ,
Where
ÖÖ, 1
(
ÖÖ1 2
x
ÖÖ2 3
=>
ÖÖ4 6
x
ÖÖ7 8
.
ÖÖ8 9
TwitterDataId
ÖÖ9 F
<=
ÖÖG I
	countData
ÖÖJ S
&&
ÖÖT V
x
ÖÖW X
.
ÖÖX Y
TwitterDataId
ÖÖY f
>=
ÖÖg i
$num
ÖÖj k
)
ÖÖk l
.
ÖÖl m
OrderByDescending
ÖÖm ~
(
ÖÖ~ 
xÖÖ Ä
=>ÖÖÅ É
xÖÖÑ Ö
.ÖÖÖ Ü
TwitterDataIdÖÖÜ ì
)ÖÖì î
;ÖÖî ï
var
ÜÜ 
dataContainer2
ÜÜ &
=
ÜÜ' (
dataContainer
ÜÜ) 6
.
ÜÜ6 7
Take
ÜÜ7 ;
(
ÜÜ; <
$num
ÜÜ< =
)
ÜÜ= >
.
ÜÜ> ?
ToList
ÜÜ? E
(
ÜÜE F
)
ÜÜF G
;
ÜÜG H
return
áá 
Json
áá 
(
áá  
dataContainer2
áá  .
,
áá. /!
JsonRequestBehavior
áá0 C
.
ááC D
AllowGet
ááD L
)
ááL M
;
ááM N
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
e
ää 
)
ää 
{
ãã 
return
åå 
Json
åå 
(
åå 
new
åå 
{
åå  !
success
åå" )
=
åå* +
false
åå, 1
,
åå1 2
ex
åå3 5
=
åå6 7
e
åå8 9
.
åå9 :
Message
åå: A
}
ååB C
,
ååC D!
JsonRequestBehavior
ååE X
.
ååX Y
AllowGet
ååY a
)
ååa b
;
ååb c
}
çç 
}
éé 	
[
èè 	
HttpGet
èè	 
]
èè 
public
êê 

JsonResult
êê 
GetAllFacts
êê %
(
êê% &
int
êê& )
	factcount
êê* 3
)
êê3 4
{
ëë 	
try
íí 
{
ìì 
var
ïï 

jsonReader
ïï 
=
ïï  
new
ïï! $
StreamReader
ïï% 1
(
ïï1 2
Server
ïï2 8
.
ïï8 9
MapPath
ïï9 @
(
ïï@ A
$str
ïïA \
)
ïï\ ]
)
ïï] ^
;
ïï^ _
var
ññ 
rawJson
ññ 
=
ññ 

jsonReader
ññ (
.
ññ( )
	ReadToEnd
ññ) 2
(
ññ2 3
)
ññ3 4
;
ññ4 5

jsonReader
óó 
.
óó 
Close
óó  
(
óó  !
)
óó! "
;
óó" #
var
òò 
dtls
òò 
=
òò 
JsonConvert
òò &
.
òò& '
DeserializeObject
òò' 8
<
òò8 9
List
òò9 =
<
òò= >
BlogPost
òò> F
>
òòF G
>
òòG H
(
òòH I
rawJson
òòI P
)
òòP Q
;
òòQ R
var
ôô 
count
ôô 
=
ôô 
dtls
ôô  
.
ôô  !
Count
ôô! &
(
ôô& '
)
ôô' (
;
ôô( )
var
öö 
	countData
öö 
=
öö 
count
öö  %
-
öö& '
(
öö( )
$num
öö) *
*
öö+ ,
	factcount
öö- 6
)
öö6 7
;
öö7 8
var
õõ 
dataContainer
õõ !
=
õõ" #
dtls
õõ$ (
.
õõ( )
Where
õõ) .
(
õõ. /
x
õõ/ 0
=>
õõ1 3
x
õõ4 5
.
õõ5 6

BlogPostId
õõ6 @
<=
õõA C
	countData
õõD M
&&
õõN P
x
õõQ R
.
õõR S

BlogPostId
õõS ]
>=
õõ^ `
$num
õõa b
)
õõb c
.
õõc d
OrderByDescending
õõd u
(
õõu v
x
õõv w
=>
õõx z
x
õõ{ |
.
õõ| }

BlogPostIdõõ} á
)õõá à
;õõà â
var
úú 
dataContainer2
úú "
=
úú# $
dataContainer
úú% 2
.
úú2 3
Take
úú3 7
(
úú7 8
$num
úú8 9
)
úú9 :
.
úú: ;
ToList
úú; A
(
úúA B
)
úúB C
;
úúC D
return
ùù 
Json
ùù 
(
ùù 
dataContainer2
ùù *
,
ùù* +!
JsonRequestBehavior
ùù, ?
.
ùù? @
AllowGet
ùù@ H
)
ùùH I
;
ùùI J
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
e
üü 
)
üü 
{
†† 
return
°° 
Json
°° 
(
°° 
new
°° 
{
°°  !
success
°°" )
=
°°* +
false
°°, 1
,
°°1 2
ex
°°3 5
=
°°6 7
e
°°8 9
.
°°9 :
Message
°°: A
}
°°B C
,
°°C D!
JsonRequestBehavior
°°E X
.
°°X Y
AllowGet
°°Y a
)
°°a b
;
°°b c
}
¢¢ 
}
££ 	
[
•• 	
HttpGet
••	 
]
•• 
public
¶¶ 

JsonResult
¶¶ 
GetAllVideo
¶¶ %
(
¶¶% &
int
¶¶& )

videocount
¶¶* 4
)
¶¶4 5
{
ßß 	
try
®® 
{
©© 
var
´´ 

jsonReader
´´ 
=
´´  
new
´´! $
StreamReader
´´% 1
(
´´1 2
Server
´´2 8
.
´´8 9
MapPath
´´9 @
(
´´@ A
$str
´´A ^
)
´´^ _
)
´´_ `
;
´´` a
var
¨¨ 
rawJson
¨¨ 
=
¨¨ 

jsonReader
¨¨ (
.
¨¨( )
	ReadToEnd
¨¨) 2
(
¨¨2 3
)
¨¨3 4
;
¨¨4 5

jsonReader
≠≠ 
.
≠≠ 
Close
≠≠  
(
≠≠  !
)
≠≠! "
;
≠≠" #
var
ÆÆ 
dtls
ÆÆ 
=
ÆÆ 
JsonConvert
ÆÆ &
.
ÆÆ& '
DeserializeObject
ÆÆ' 8
<
ÆÆ8 9
List
ÆÆ9 =
<
ÆÆ= >
YouTubeData
ÆÆ> I
>
ÆÆI J
>
ÆÆJ K
(
ÆÆK L
rawJson
ÆÆL S
)
ÆÆS T
;
ÆÆT U
var
ØØ 
count
ØØ 
=
ØØ 
dtls
ØØ  
.
ØØ  !
Count
ØØ! &
(
ØØ& '
)
ØØ' (
;
ØØ( )
var
∞∞ 
	countData
∞∞ 
=
∞∞ 
count
∞∞  %
-
∞∞& '
(
∞∞( )
$num
∞∞) *
*
∞∞+ ,

videocount
∞∞- 7
)
∞∞7 8
;
∞∞8 9
var
±± 
dataContainer
±± !
=
±±" #
dtls
±±$ (
.
±±( )
Where
±±) .
(
±±. /
x
±±/ 0
=>
±±1 3
x
±±4 5
.
±±5 6
YouTubeDataId
±±6 C
<=
±±D F
	countData
±±G P
&&
±±Q S
x
±±T U
.
±±U V
YouTubeDataId
±±V c
>=
±±d f
$num
±±g h
)
±±h i
.
±±i j
OrderByDescending
±±j {
(
±±{ |
x
±±| }
=>±±~ Ä
x±±Å Ç
.±±Ç É
YouTubeDataId±±É ê
)±±ê ë
;±±ë í
var
≤≤ 
dataContainer2
≤≤ "
=
≤≤# $
dataContainer
≤≤% 2
.
≤≤2 3
Take
≤≤3 7
(
≤≤7 8
$num
≤≤8 9
)
≤≤9 :
.
≤≤: ;
ToList
≤≤; A
(
≤≤A B
)
≤≤B C
;
≤≤C D
return
≥≥ 
Json
≥≥ 
(
≥≥ 
dataContainer2
≥≥ *
,
≥≥* +!
JsonRequestBehavior
≥≥, ?
.
≥≥? @
AllowGet
≥≥@ H
)
≥≥H I
;
≥≥I J
}
¥¥ 
catch
µµ 
(
µµ 
	Exception
µµ 
)
µµ 
{
∂∂ 
return
∑∑ 
Json
∑∑ 
(
∑∑ 
$str
∑∑ #
,
∑∑# $!
JsonRequestBehavior
∑∑% 8
.
∑∑8 9
AllowGet
∑∑9 A
)
∑∑A B
;
∑∑B C
}
∏∏ 
}
ππ 	
public
ºº 
ActionResult
ºº 

DelpScheme
ºº &
(
ºº& '
)
ºº' (
{
ΩΩ 	
ViewData
ææ 
[
ææ 
$str
ææ 
]
ææ 
=
ææ 
ObjEdbContext
ææ  -
.
ææ- .
	ObjStates
ææ. 7
.
ææ7 8
ToList
ææ8 >
(
ææ> ?
)
ææ? @
;
ææ@ A
return
øø 
View
øø 
(
øø 
)
øø 
;
øø 
}
¿¿ 	
[
¡¡ 	
HttpPost
¡¡	 
]
¡¡ 
[
¬¬ 	
	WebMethod
¬¬	 
]
¬¬ 
public
√√ 
ActionResult
√√ 
GetCity
√√ #
(
√√# $
string
√√$ *
stateId
√√+ 2
)
√√2 3
{
ƒƒ 	
if
≈≈ 
(
≈≈ 
stateId
≈≈ 
==
≈≈ 
null
≈≈ 
)
≈≈  
return
≈≈! '
Json
≈≈( ,
(
≈≈, -
$num
≈≈- .
)
≈≈. /
;
≈≈/ 0
try
∆∆ 
{
«« 
var
»» 
qry
»» 
=
»» 
(
»» 
from
»» 
sa
»»  "
in
»»# %
ObjEdbContext
»»& 3
.
»»3 4
	ObjCities
»»4 =
where
»»> C
sa
»»D F
.
»»F G
	StateName
»»G P
==
»»Q S
stateId
»»T [
select
»»\ b
sa
»»c e
)
»»e f
.
»»f g
ToList
»»g m
(
»»m n
)
»»n o
;
»»o p
return
   
Json
   
(
   
qry
   
,
    !
JsonRequestBehavior
  ! 4
.
  4 5
AllowGet
  5 =
)
  = >
;
  > ?
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
)
ÕÕ 
{
ŒŒ 
return
œœ 
Json
œœ 
(
œœ 
$num
œœ 
)
œœ 
;
œœ 
}
–– 
return
—— 
Json
—— 
(
—— 
$num
—— 
)
—— 
;
—— 
}
““ 	
public
”” 

JsonResult
”” 
	AddDetail
”” #
(
””# $
FormCollection
””$ 2
form
””3 7
)
””7 8
{
‘‘ 	
try
’’ 
{
÷÷ 
var
ÿÿ !
objRegistrationUser
ÿÿ '
=
ÿÿ( )
new
ÿÿ* -
RegistrationUser
ÿÿ. >
(
ÿÿ> ?
)
ÿÿ? @
;
ÿÿ@ A
var
ŸŸ 
emailId
ŸŸ 
=
ŸŸ 
form
ŸŸ "
[
ŸŸ" #
$str
ŸŸ# -
]
ŸŸ- .
;
ŸŸ. /
var
⁄⁄ 
fName
⁄⁄ 
=
⁄⁄ 
form
⁄⁄  
[
⁄⁄  !
$str
⁄⁄! -
]
⁄⁄- .
;
⁄⁄. /
var
€€ 
lName
€€ 
=
€€ 
form
€€  
[
€€  !
$str
€€! ,
]
€€, -
;
€€- .
var
‹‹ 
mNumber
‹‹ 
=
‹‹ 
form
‹‹ "
[
‹‹" #
$str
‹‹# 2
]
‹‹2 3
;
‹‹3 4
var
›› 
state
›› 
=
›› 
form
››  
[
››  !
$str
››! (
]
››( )
;
››) *
var
ﬁﬁ 
city
ﬁﬁ 
=
ﬁﬁ 
form
ﬁﬁ 
[
ﬁﬁ  
$str
ﬁﬁ  &
]
ﬁﬁ& '
;
ﬁﬁ' (
var
ﬂﬂ 
stateid
ﬂﬂ 
=
ﬂﬂ 
Convert
ﬂﬂ %
.
ﬂﬂ% &
ToInt64
ﬂﬂ& -
(
ﬂﬂ- .
state
ﬂﬂ. 3
)
ﬂﬂ3 4
;
ﬂﬂ4 5
var
‡‡ 
	stateName
‡‡ 
=
‡‡ 
$str
‡‡  "
;
‡‡" #
var
·· 
qry
·· 
=
·· 
(
·· 
from
·· 
s
··  !
in
··" $
ObjEdbContext
··% 2
.
··2 3
	ObjStates
··3 <
where
··= B
s
··C D
.
··D E
StateId
··E L
==
··M O
stateid
··P W
select
··X ^
s
··_ `
)
··` a
.
··a b
FirstOrDefault
··b p
(
··p q
)
··q r
;
··r s
if
‚‚ 
(
‚‚ 
qry
‚‚ 
!=
‚‚ 
null
‚‚ 
)
‚‚  
{
„„ 
	stateName
‰‰ 
=
‰‰ 
qry
‰‰  #
.
‰‰# $
	StateName
‰‰$ -
;
‰‰- .
}
ÂÂ 
var
ÊÊ 
checkPreeRegister
ÊÊ %
=
ÊÊ& '
(
ÊÊ( )
from
ÊÊ) -
s
ÊÊ. /
in
ÊÊ0 2
ObjEdbContext
ÊÊ3 @
.
ÊÊ@ A"
ObjRegistrationUsers
ÊÊA U
where
ÊÊV [
s
ÊÊ\ ]
.
ÊÊ] ^
EmailId
ÊÊ^ e
==
ÊÊf h
emailId
ÊÊi p
&&
ÊÊq s
s
ÊÊt u
.
ÊÊu v
MobileNumberÊÊv Ç
==ÊÊÉ Ö
mNumberÊÊÜ ç
selectÊÊé î
sÊÊï ñ
)ÊÊñ ó
.ÊÊó ò
ToListÊÊò û
(ÊÊû ü
)ÊÊü †
;ÊÊ† °
if
ÁÁ 
(
ÁÁ 
checkPreeRegister
ÁÁ %
.
ÁÁ% &
Count
ÁÁ& +
!=
ÁÁ, .
$num
ÁÁ/ 0
)
ÁÁ0 1
{
ËË 
return
ÈÈ 
Json
ÈÈ 
(
ÈÈ  
$num
ÈÈ  !
)
ÈÈ! "
;
ÈÈ" #
}
ÍÍ !
objRegistrationUser
ÎÎ #
.
ÎÎ# $
	FirstName
ÎÎ$ -
=
ÎÎ. /
fName
ÎÎ0 5
;
ÎÎ5 6!
objRegistrationUser
ÏÏ #
.
ÏÏ# $
LastName
ÏÏ$ ,
=
ÏÏ- .
lName
ÏÏ/ 4
;
ÏÏ4 5!
objRegistrationUser
ÌÌ #
.
ÌÌ# $
MobileNumber
ÌÌ$ 0
=
ÌÌ1 2
mNumber
ÌÌ3 :
;
ÌÌ: ;!
objRegistrationUser
ÓÓ #
.
ÓÓ# $
State
ÓÓ$ )
=
ÓÓ* +
	stateName
ÓÓ, 5
;
ÓÓ5 6!
objRegistrationUser
ÔÔ #
.
ÔÔ# $
EmailId
ÔÔ$ +
=
ÔÔ, -
emailId
ÔÔ. 5
;
ÔÔ5 6!
objRegistrationUser
 #
.
# $
City
$ (
=
) *
city
+ /
;
/ 0
ObjEdbContext
ÒÒ 
.
ÒÒ "
ObjRegistrationUsers
ÒÒ 2
.
ÒÒ2 3
AddOrUpdate
ÒÒ3 >
(
ÒÒ> ?!
objRegistrationUser
ÒÒ? R
)
ÒÒR S
;
ÒÒS T
ObjEdbContext
ÚÚ 
.
ÚÚ 
SaveChanges
ÚÚ )
(
ÚÚ) *
)
ÚÚ* +
;
ÚÚ+ ,

ModelState
ÛÛ 
.
ÛÛ 
Clear
ÛÛ  
(
ÛÛ  !
)
ÛÛ! "
;
ÛÛ" #
return
ÙÙ 
Json
ÙÙ 
(
ÙÙ 
$num
ÙÙ 
)
ÙÙ 
;
ÙÙ 
}
ıı 
catch
ˆˆ 
(
ˆˆ 
	Exception
ˆˆ 
)
ˆˆ 
{
˜˜ 
return
¯¯ 
Json
¯¯ 
(
¯¯ 
$num
¯¯ 
)
¯¯ 
;
¯¯ 
}
˘˘ 
}
˙˙ 	
[
˚˚ 
	WebMethod
˚˚ 
]
˚˚ 
public
¸¸ 

JsonResult
¸¸ 
PledgesTaken
¸¸ &
(
¸¸& '
string
¸¸' -
pubIp
¸¸. 3
)
¸¸3 4
{
˝˝ 	
try
˛˛ 
{
ˇˇ 
var
ÅÅ 
plgCount
ÅÅ 
=
ÅÅ 
(
ÅÅ  
from
ÅÅ  $
sa1
ÅÅ% (
in
ÅÅ) +
ObjEdbContext
ÅÅ, 9
.
ÅÅ9 :
ObjPledgesTakens
ÅÅ: J
select
ÅÅK Q
sa1
ÅÅR U
)
ÅÅU V
.
ÅÅV W
FirstOrDefault
ÅÅW e
(
ÅÅe f
)
ÅÅf g
;
ÅÅg h
if
ÇÇ 
(
ÇÇ 
plgCount
ÇÇ 
!=
ÇÇ 
null
ÇÇ  $
)
ÇÇ$ %
{
ÉÉ 
var
ÑÑ 
count
ÑÑ 
=
ÑÑ 
Convert
ÑÑ  '
.
ÑÑ' (
ToInt64
ÑÑ( /
(
ÑÑ/ 0
plgCount
ÑÑ0 8
.
ÑÑ8 9
CountPledges
ÑÑ9 E
)
ÑÑE F
;
ÑÑF G
var
ÖÖ 
id
ÖÖ 
=
ÖÖ 
plgCount
ÖÖ %
.
ÖÖ% &
PledgesTakenId
ÖÖ& 4
;
ÖÖ4 5
var
áá 
httpCookie1
áá #
=
áá$ %
HttpContext
áá& 1
.
áá1 2
Request
áá2 9
.
áá9 :
Cookies
áá: A
[
ááA B
$str
ááB L
]
ááL M
;
ááM N
if
àà 
(
àà 
Session
àà 
[
àà  
$str
àà  -
]
àà- .
==
àà/ 1
null
àà2 6
&&
àà7 9
httpCookie1
àà: E
==
ààF H
null
ààI M
)
ààM N
{
ââ 
var
ãã 
checkIpAddress
ãã *
=
ãã+ ,
(
ãã- .
from
ãã. 2
sa1
ãã3 6
in
ãã7 9
ObjEdbContext
ãã: G
.
ããG H
ObjiIpDetails
ããH U
where
ããV [
sa1
ãã\ _
.
ãã_ `
PublicIp
ãã` h
==
ããi k
pubIp
ããl q
&&
ããr t
sa1
ããu x
.
ããx y
IsBlockããy Ä
==ããÅ É
trueããÑ à
selectããâ è
sa1ããê ì
)ããì î
.ããî ï
ToListããï õ
(ããõ ú
)ããú ù
;ããù û
if
åå 
(
åå 
checkIpAddress
åå *
.
åå* +
Count
åå+ 0
!=
åå1 3
$num
åå4 5
)
åå5 6
{
çç 
return
éé "
Json
éé# '
(
éé' (
count
éé( -
,
éé- .!
JsonRequestBehavior
éé/ B
.
ééB C
AllowGet
ééC K
)
ééK L
;
ééL M
}
èè 
var
ëë 
cookie
ëë "
=
ëë# $
new
ëë% (

HttpCookie
ëë) 3
(
ëë3 4
$str
ëë4 >
,
ëë> ?
$str
ëë@ J
)
ëëJ K
{
ëëL M
Expires
ëëN U
=
ëëV W
DateTime
ëëX `
.
ëë` a
Now
ëëa d
.
ëëd e
AddDays
ëëe l
(
ëël m
$num
ëëm n
)
ëën o
}
ëëp q
;
ëëq r
HttpContext
íí #
.
íí# $
Response
íí$ ,
.
íí, -
Cookies
íí- 4
.
íí4 5
Add
íí5 8
(
íí8 9
cookie
íí9 ?
)
íí? @
;
íí@ A
if
ìì 
(
ìì 
HttpContext
ìì '
.
ìì' (
Request
ìì( /
.
ìì/ 0
Cookies
ìì0 7
[
ìì7 8
$str
ìì8 B
]
ììB C
!=
ììD F
null
ììG K
)
ììK L
{
îî 
var
ïï 
cookieValue
ïï  +
=
ïï, -
HttpContext
ïï. 9
.
ïï9 :
Request
ïï: A
.
ïïA B
Cookies
ïïB I
[
ïïI J
$str
ïïJ T
]
ïïT U
.
ïïU V
Value
ïïV [
;
ïï[ \
Session
ññ #
[
ññ# $
$str
ññ$ 1
]
ññ1 2
=
ññ3 4
cookieValue
ññ5 @
;
ññ@ A
}
óó 
count
ôô 
++
ôô 
;
ôô  
var
õõ 
qry1
õõ  
=
õõ! "
(
õõ# $
from
õõ$ (
sa1
õõ) ,
in
õõ- /
ObjEdbContext
õõ0 =
.
õõ= >
ObjPledgesTakens
õõ> N
where
õõO T
sa1
õõU X
.
õõX Y
PledgesTakenId
õõY g
==
õõh j
id
õõk m
select
õõn t
sa1
õõu x
)
õõx y
.
õõy z
FirstOrDefaultõõz à
(õõà â
)õõâ ä
;õõä ã
if
úú 
(
úú 
qry1
úú  
!=
úú! #
null
úú$ (
)
úú( )
{
ùù 
qry1
ûû  
.
ûû  !
CountPledges
ûû! -
=
ûû. /
count
ûû0 5
.
ûû5 6
ToString
ûû6 >
(
ûû> ?
CultureInfo
ûû? J
.
ûûJ K
InvariantCulture
ûûK [
)
ûû[ \
;
ûû\ ]
if
üü 
(
üü  
!
üü  !
TryUpdateModel
üü! /
(
üü/ 0
qry1
üü0 4
,
üü4 5
new
üü6 9
[
üü9 :
]
üü: ;
{
üü< =
$str
üü> L
}
üüM N
)
üüN O
)
üüO P
{
†† 
}
¢¢ 
}
££ 
ObjEdbContext
§§ %
.
§§% &
SaveChanges
§§& 1
(
§§1 2
)
§§2 3
;
§§3 4

ModelState
•• "
.
••" #
Clear
••# (
(
••( )
)
••) *
;
••* +
var
ßß 
objip
ßß !
=
ßß" #
new
ßß$ '
IpDetail
ßß( 0
{
®® 
PublicIp
©© $
=
©©% &
pubIp
©©' ,
,
©©, -
	PrivateIp
™™ %
=
™™& '
$str
™™( .
,
™™. /
DateTime
´´ $
=
´´% &
DateTime
´´' /
.
´´/ 0
Now
´´0 3
,
´´3 4
IsBlock
¨¨ #
=
¨¨$ %
false
¨¨& +
}
≠≠ 
;
≠≠ 
ObjEdbContext
ÆÆ %
.
ÆÆ% &
ObjiIpDetails
ÆÆ& 3
.
ÆÆ3 4
AddOrUpdate
ÆÆ4 ?
(
ÆÆ? @
objip
ÆÆ@ E
)
ÆÆE F
;
ÆÆF G
ObjEdbContext
ØØ %
.
ØØ% &
SaveChanges
ØØ& 1
(
ØØ1 2
)
ØØ2 3
;
ØØ3 4

ModelState
∞∞ "
.
∞∞" #
Clear
∞∞# (
(
∞∞( )
)
∞∞) *
;
∞∞* +
var
≤≤ 
reFatchCount
≤≤ (
=
≤≤) *
(
≤≤+ ,
from
≤≤, 0
sa1
≤≤1 4
in
≤≤5 7
ObjEdbContext
≤≤8 E
.
≤≤E F
ObjPledgesTakens
≤≤F V
select
≤≤W ]
sa1
≤≤^ a
)
≤≤a b
.
≤≤b c
FirstOrDefault
≤≤c q
(
≤≤q r
)
≤≤r s
;
≤≤s t
if
≥≥ 
(
≥≥ 
reFatchCount
≥≥ (
!=
≥≥) +
null
≥≥, 0
)
≥≥0 1
count
≥≥2 7
=
≥≥8 9
Convert
≥≥: A
.
≥≥A B
ToInt64
≥≥B I
(
≥≥I J
reFatchCount
≥≥J V
.
≥≥V W
CountPledges
≥≥W c
)
≥≥c d
;
≥≥d e
return
¥¥ 
Json
¥¥ #
(
¥¥# $
count
¥¥$ )
,
¥¥) *!
JsonRequestBehavior
¥¥+ >
.
¥¥> ?
AllowGet
¥¥? G
)
¥¥G H
;
¥¥H I
}
µµ 
var
∂∂ 
res
∂∂ 
=
∂∂ 
count
∂∂ #
;
∂∂# $
return
∑∑ 
Json
∑∑ 
(
∑∑  
res
∑∑  #
,
∑∑# $!
JsonRequestBehavior
∑∑% 8
.
∑∑8 9
AllowGet
∑∑9 A
)
∑∑A B
;
∑∑B C
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 
return
ºº 
Json
ºº 
(
ºº 
ex
ºº 
,
ºº !
JsonRequestBehavior
ºº  3
.
ºº3 4
AllowGet
ºº4 <
)
ºº< =
;
ºº= >
}
ΩΩ 
return
ææ 
Json
ææ 
(
ææ 
$num
ææ 
,
ææ !
JsonRequestBehavior
ææ .
.
ææ. /
AllowGet
ææ/ 7
)
ææ7 8
;
ææ8 9
}
øø 	
}
¿¿ 
}¡¡ √
BF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Global.asax.cs
	namespace		 	
iLeadTheWayProject		
 
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
} 	
} 
} ßJ
IF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\HelperClass\Helper.cs
	namespace 	
iLeadTheWayProject
 
. 
HelperClass (
{ 
public 

static 
class 
Helper 
{		 
public

 
static

 
string

 
base64Encode

 )
(

) *
string

* 0
sData

1 6
)

6 7
{ 	
try 
{ 
byte 
[ 
] 
encData_byte #
=$ %
new& )
byte* .
[. /
sData/ 4
.4 5
Length5 ;
]; <
;< =
encData_byte 
= 
System %
.% &
Text& *
.* +
Encoding+ 3
.3 4
UTF84 8
.8 9
GetBytes9 A
(A B
sDataB G
)G H
;H I
string 
encodedData "
=# $
Convert% ,
., -
ToBase64String- ;
(; <
encData_byte< H
)H I
;I J
return 
encodedData "
;" #
} 
catch 
( 
	Exception 
ex 
)  
{ 
throw 
new 
	Exception #
(# $
$str$ ;
+< =
ex> @
.@ A
MessageA H
)H I
;I J
} 
} 	
public 
static 
string 
base64Decode )
() *
string* 0
sData1 6
)6 7
{ 	
try 
{ 
var 
encoder 
= 
new !
System" (
.( )
Text) -
.- .
UTF8Encoding. :
(: ;
); <
;< =
System 
. 
Text 
. 
Decoder #

utf8Decode$ .
=/ 0
encoder1 8
.8 9

GetDecoder9 C
(C D
)D E
;E F
byte   
[   
]   
todecodeByte   #
=  $ %
Convert  & -
.  - .
FromBase64String  . >
(  > ?
sData  ? D
)  D E
;  E F
int!! 
	charCount!! 
=!! 

utf8Decode!!  *
.!!* +
GetCharCount!!+ 7
(!!7 8
todecodeByte!!8 D
,!!D E
$num!!F G
,!!G H
todecodeByte!!I U
.!!U V
Length!!V \
)!!\ ]
;!!] ^
char"" 
["" 
]"" 
decodedChar"" "
=""# $
new""% (
char"") -
[""- .
	charCount"". 7
]""7 8
;""8 9

utf8Decode## 
.## 
GetChars## #
(### $
todecodeByte##$ 0
,##0 1
$num##2 3
,##3 4
todecodeByte##5 A
.##A B
Length##B H
,##H I
decodedChar##J U
,##U V
$num##W X
)##X Y
;##Y Z
string$$ 
result$$ 
=$$ 
new$$  #
String$$$ *
($$* +
decodedChar$$+ 6
)$$6 7
;$$7 8
return%% 
result%% 
;%% 
}&& 
catch'' 
('' 
	Exception'' 
ex'' 
)''  
{(( 
throw)) 
new)) 
	Exception)) #
())# $
$str))$ ;
+))< =
ex))> @
.))@ A
Message))A H
)))H I
;))I J
}++ 
},, 	
public.. 
static.. 
string.. 
EncodePassword.. +
(..+ ,
string.., 2
pass..3 7
,..7 8
string..9 ?
salt..@ D
)..D E
{// 	
byte00 
[00 
]00 
bytes00 
=00 
Encoding00 #
.00# $
Unicode00$ +
.00+ ,
GetBytes00, 4
(004 5
pass005 9
)009 :
;00: ;
byte11 
[11 
]11 
src11 
=11 
Encoding11 !
.11! "
Unicode11" )
.11) *
GetBytes11* 2
(112 3
salt113 7
)117 8
;118 9
byte22 
[22 
]22 
dst22 
=22 
new22 
byte22 !
[22! "
src22" %
.22% &
Length22& ,
+22- .
bytes22/ 4
.224 5
Length225 ;
]22; <
;22< =
System33 
.33 
Buffer33 
.33 
	BlockCopy33 #
(33# $
src33$ '
,33' (
$num33) *
,33* +
dst33, /
,33/ 0
$num331 2
,332 3
src334 7
.337 8
Length338 >
)33> ?
;33? @
System44 
.44 
Buffer44 
.44 
	BlockCopy44 #
(44# $
bytes44$ )
,44) *
$num44+ ,
,44, -
dst44. 1
,441 2
src443 6
.446 7
Length447 =
,44= >
bytes44? D
.44D E
Length44E K
)44K L
;44L M
HashAlgorithm55 
	algorithm55 #
=55$ %
HashAlgorithm55& 3
.553 4
Create554 :
(55: ;
$str55; A
)55A B
;55B C
byte66 
[66 
]66 
inArray66 
=66 
	algorithm66 &
.66& '
ComputeHash66' 2
(662 3
dst663 6
)666 7
;667 8
return88 
EncodePasswordMd588 $
(88$ %
Convert88% ,
.88, -
ToBase64String88- ;
(88; <
inArray88< C
)88C D
)88D E
;88E F
}99 	
public;; 
static;; 
string;; 
EncodePasswordMd5;; .
(;;. /
string;;/ 5
pass;;6 :
);;: ;
{<< 	
Byte== 
[== 
]== 
originalBytes==  
;==  !
Byte>> 
[>> 
]>> 
encodedBytes>> 
;>>  
MD5?? 
md5?? 
;?? 
md5AA 
=AA 
newAA $
MD5CryptoServiceProviderAA .
(AA. /
)AA/ 0
;AA0 1
originalBytesBB 
=BB 
ASCIIEncodingBB )
.BB) *
DefaultBB* 1
.BB1 2
GetBytesBB2 :
(BB: ;
passBB; ?
)BB? @
;BB@ A
encodedBytesCC 
=CC 
md5CC 
.CC 
ComputeHashCC *
(CC* +
originalBytesCC+ 8
)CC8 9
;CC9 :
returnEE 
BitConverterEE 
.EE  
ToStringEE  (
(EE( )
encodedBytesEE) 5
)EE5 6
;EE6 7
}FF 	
publicGG 
staticGG 
stringGG 
ToAbsoluteUrlGG *
(GG* +
thisGG+ /
stringGG0 6
relativeUrlGG7 B
)GGB C
{HH 	
ifII 
(II 
stringII 
.II 
IsNullOrEmptyII $
(II$ %
relativeUrlII% 0
)II0 1
)II1 2
returnJJ 
relativeUrlJJ "
;JJ" #
ifLL 
(LL 
HttpContextLL 
.LL 
CurrentLL #
==LL$ &
nullLL' +
)LL+ ,
returnMM 
relativeUrlMM "
;MM" #
ifOO 
(OO 
relativeUrlOO 
.OO 

StartsWithOO &
(OO& '
$strOO' *
)OO* +
)OO+ ,
relativeUrlPP 
=PP 
relativeUrlPP )
.PP) *
InsertPP* 0
(PP0 1
$numPP1 2
,PP2 3
$strPP4 7
)PP7 8
;PP8 9
ifQQ 
(QQ 
!QQ 
relativeUrlQQ 
.QQ 

StartsWithQQ '
(QQ' (
$strQQ( ,
)QQ, -
)QQ- .
relativeUrlRR 
=RR 
relativeUrlRR )
.RR) *
InsertRR* 0
(RR0 1
$numRR1 2
,RR2 3
$strRR4 8
)RR8 9
;RR9 :
varTT 
urlTT 
=TT 
HttpContextTT !
.TT! "
CurrentTT" )
.TT) *
RequestTT* 1
.TT1 2
UrlTT2 5
;TT5 6
varUU 
portUU 
=UU 
urlUU 
.UU 
PortUU 
!=UU  "
$numUU# %
?UU& '
(UU( )
$strUU) ,
+UU- .
urlUU/ 2
.UU2 3
PortUU3 7
)UU7 8
:UU9 :
StringUU; A
.UUA B
EmptyUUB G
;UUG H
returnWW 
StringWW 
.WW 
FormatWW  
(WW  !
$strWW! 2
,WW2 3
urlXX 
.XX 
SchemeXX 
,XX 
urlXX 
.XX  
HostXX  $
,XX$ %
portXX& *
,XX* +
VirtualPathUtilityXX, >
.XX> ?

ToAbsoluteXX? I
(XXI J
relativeUrlXXJ U
)XXU V
)XXV W
;XXW X
}YY 	
}ZZ 
}[[ ˘
NF:\Pendrive Data\iLeadTheWayJson\iLeadTheWayProject\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str -
)- .
]. /
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str /
)/ 0
]0 1
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *